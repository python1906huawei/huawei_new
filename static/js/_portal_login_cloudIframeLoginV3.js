function popAgreeDFDialog(e){var o=localInfo.agreementContents,n="";n+="<div class='agreementInfo1 agreementInfo5 agr-update'>";for(var t=!0,i=0;i<o.length;i++){var r=o[i];n+="<div class='reg-tip'>","10"==r.agrID&&1<o.length?(localInfo._10agrAgreeOrNot?(n+="<div class='check-tip clearFix'>",n+="<label class='regCheck reg-check l reg-select' datavalue='true'></label>"):(n+="<div class='check-tip clearFix'>",n+="<label class='regCheck reg-check l' datavalue='false'></label>"),n+=r.agrBrief,n+="</div>",t=!1):n+=r.agrBrief,n+="</div>"}n+="</div>";var a=1==(localInfo.agrAccountSiteID||localInfo.curAccountSiteID||localInfo.userSiteID)?rss_new.agree_DFVersion_title2Login:rss_new.service_terms_conditions_update,s=rss_new.uc_common_no_agree,c=rss_new.common_agree;s=rss_new.box_js_cancel,$("<div>").Dialog({title:a,btnLeft:{text:s,fn:function(){"object"==typeof smsLoginValidate&&$(".loginTitle-right").hasClass("actived")&&0<$(".qrLogin-otherWayLink").children().length?($(".loginTitle-left").click(),$('.changeLoginType[data-type="userAccountLogin"]').click()):"object"==typeof smsLoginValidate&&config.currentDialog&&config.currentDialog.hide(),cancelUpdate_ua(e)}},btnRight:{text:c,fn:function(){submitUpdate_ua(e)}},html:n,beforeAction:function(){$(".regCheck").off(),1==o.length&&"10"==o[0].agrID&&$(".adContentPart").css("margin","0px"),"true"!==localInfo._10agrAgreeOrNot&&!0!==localInfo._10agrAgreeOrNot||($(this).addClass("reg-select"),$(this).attr("datavalue","true"),$("#adMarketChecked").prop("checked",!0)),$(".regCheck").on("click",function(){$(this).hasClass("reg-select")?($(this).removeClass("reg-select"),$(this).attr("datavalue","false"),$("#adMarketChecked").prop("checked",!1)):($(this).addClass("reg-select"),$(this).attr("datavalue","true"),$("#adMarketChecked").prop("checked",!0))}),$(".adCheckBoxPart")&&t?($(".adContentPart").css("margin","0px"),$(".adContentPart span").css("margin","0px"),$(".noCheckBox").removeClass("hide")):$(".hasCheckBox").removeClass("hide")}}).Dialog("show")}function agreeDFAgr(o,n,e){var t={isThird:!!localInfo.chkPwdIsThird};"11"==o.opType||"18"==o.opType?t.userAccount=o.mobilePhone:t.userAccount=o.userAccount,localInfo.isSelectTwicePhoneAccount&&(t.userAccount=localInfo.userPhoneAccount),void 0!==e&&(t.adMarketCheckedValue=e),casAjaxObj.agreeLatestDFVersion(t,function(e){0<$(".global_dialog_confirm_main").length&&($(".global_dialog_confirm_main").hide(),$(".global_black_overlay").remove()),n!=undefined&&n(o)},function(e,o){},null,!1)}function cancelUpdate_ua(e){var o=localInfo.agrIDs.split(",");if(1==o.length&&"10"==o[0]){submitUpdate_ua(e,"false")}else localInfo.chkPwdIsThird?gotoUrl(localInfo.loginUrl):($(".global_dialog_confirm_main").hide(),$(".global_black_overlay").remove())}function submitUpdate_ua(e,o){if(void 0===o){var n=localInfo.agrIDs.split(",");o=1==n.length&&"10"==n[0]?"true":0==$("#adMarketChecked").is(":checked")?"false":"true"}var t;e!=undefined?(t="11"==e.opType||"18"==e.opType?{mobilePhone:e.mobilePhone,smsAuthCode:e.smsAuthCode,opType:e.opType}:{userAccount:e.userAccount,password:e.password,authcode:e.authcode,opType:e.opType},e.guardianUserID&&(t.guardianUserID=e.guardianUserID,t.guardianPwd=e.guardianPassword),agreeDFAgr(t,e.callbackFn,o)):agreeDFAgr()}function gotoresetpwd_ua(){window.top.location.href=localInfo.findPwd+localInfo.resetPwdLink}function funChkPwd_ua(e,o,n){var t;t={guardianAccountPassword:e,reqClientType:localInfo.reqClientType,isThird:!!localInfo.chkPwdIsThird,operType:"2"},casAjaxObj.verifyPassword(t,function(e){o()},function(e,o){$("#passwordDiv").addClass("input-error-EMUI5"),$("#error_tip").html(e)})}function createChildContent_ua(){var e="<span>"+rss_new.confirm_guardian_pwd_tip.format(localInfo.guardianUserAccount)+'</span><div class="dinput-UI5" id="passwordDiv" style="margin-bottom:0;margin-top:16px">';return e+='<div class="ico-div"><img class="eyeoff" id="passwdEye_guardian" src="'+localInfo.eyeoff+'"/></div>',e+='<div class="input-div"><input  class="input-scroll" maxlength="32" type="password" oncopy="return false" oncut="return false"  autocomplete="off" id="password_guardian" placeholder="'+rss_new.login_js_password+'" /></div>',e+='</div><div id="error_tip" class="error-tips-EMUI5"></div><div class="center" style="margin-top:20px"><a class="a-EMUI5" href="javascript:void(0)" onclick="gotoresetpwd_ua()" title="'+rss_new.login_dialog_forgetpwd+'">'+rss_new.login_dialog_forgetpwd+"</a></div>"}function createChildContentForWap_ua(){var e="<span>"+rss_new.confirm_guardian_pwd_tip.format(localInfo.guardianUserAccount)+'</span><div class="dinput-UI5" id="passwordDiv" style="margin-bottom:0;margin-top:16px">';return e+='<div class="ico-div"><img class="eyeoff" id="passwdEye_guardian" src="'+localInfo.eyeoff+'"/></div>',e+='<div class="input-div"><input  class="input-scroll" maxlength="32" type="password" oncopy="return false" oncut="return false"  autocomplete="off" id="password_guardian" placeholder="'+rss_new.login_js_password+'" /></div>',e+='</div><div id="error_tip" class="error-tips-EMUI5"></div><div class="center" style="margin-top:20px"><a class="a-EMUI5" href="javascript:void(0)" onclick="gotoresetpwd_ua()" title="'+rss_new.login_dialog_forgetpwd+'">'+rss_new.login_dialog_forgetpwd+"</a></div>"}function popUpdateAgrs(n,t){var e=$(".global_dialog_confirm_main");if(0<e.length&&(e.remove(),$(".global_black_overlay").remove()),"true"===localInfo.isNeedVerifyGuardianPwd||!0===localInfo.isNeedVerifyGuardianPwd){var o=createChildContent_ua();$("<div/>").Dialog({title:rss_new.validate_pwd_title,btnLeft:{text:rss_new.box_js_cancel,fn:function(){localInfo.chkPwdIsThird?gotoUrl(localInfo.loginUrl):this.hide()}},btnRight:{text:rss_new.box_js_confirm,fn:function(){var e=this;if(!validator($("#password_guardian"),!0))return!1;var o=$("#password_guardian").val();funChkPwd_ua(o,function(){t.guardianPassword=o,e.hide(),n(t)},"EMUI")}},html:o,beforeAction:function(){var e=this;e.disabled(),$("#password_guardian").on("keyup change",function(){if(""!=$("#password_guardian").val().trim())return e.enable(),!1;e.disabled()});var o=$("#password_guardian");validator.bind(o,{type:["require","strLength","hasSpace","pwdComplexity","errorInput"],trim:!1,validOnChange:!1,min:8,max:32,errorFunction:function(e,o){switch($("#passwordDiv").addClass("input-error-EMUI5"),o.type){case"require":$("#error_tip").html(rss_new.common_js_inputpwd);break;case"strLength":$("#error_tip").html(rss_new.reducePwd_format_2);break;case"hasSpace":$("#error_tip").html(rss_new.reducePwd_format_1);break;case"pwdComplexity":$("#error_tip").html(rss_new.reducePwd_format_3);break;case"errorInput":$("#error_tip").html(rss_new.reducePwd_inputError_desc)}},successFunction:function(e,o){},reInputFunction:function(){$("#error_tip").html(""),$("#passwordDiv").removeClass("input-error-EMUI5")}}),registerPwdformatValidator(),function n(e,o){e.bind("click",function(){var e=o.attr("type");"password"==e?(o[0].type="text",$(this).attr("src",XSSGuard4URL(localInfo.eyeon))):(o[0].type="password",$(this).attr("src",XSSGuard4URL(localInfo.eyeoff)))})}($("#passwdEye_guardian"),o)}}).Dialog("show")}else n(t)}!function(n){n.randomCodeObj={gtCallBack:function(e){"float"==$("#captchaInfo").attr("captchaProduct")?this.gtFloatCallBack(e):this.gtBindCallBack(e)},gtFloatCallBack:function(e){e.appendTo("#captcha1"),e.onReady(function(){$("#wait1").hide()}),n.captchaObj=e,$(".dinput-UI6").css("padding","0"),$(".dinput-UI6").css("border-radius","0"),e.onSuccess(function(){"undefined"!=typeof validateFormAllInput&&validateFormAllInput instanceof Function&&validateFormAllInput(),$("#picAuthCode").removeClass("input-error-EMUI5"),$("#randomCode_msg").removeClass("addbtmpad-msg-top2p"),$("#randomCode_msg").text("")})},gtBindCallBack:function(e){var o=this;o.isGtRandomCode()&&$("#captcha1").on("click",function(){e.verify(),n.captchaObj=e}),e.onSuccess(function(){o.removeBtnLoadding(),"function"==typeof o.gtSuccessCallback&&o.gtSuccessCallback()}),e.onReady(function(){o.gtLoadReady=!0,"function"==typeof o.gtReadyCallback&&o.gtReadyCallback()}),e.onClose(function(){o.removeBtnLoadding(),"function"==typeof o.gtCloseCallback&&o.gtCloseCallback()}),e.onError(function(){o.removeBtnLoadding(),"function"==typeof o.gtErrorCallback&&o.gtErrorCallback()})},homeCaptcha:function(e){this.addBtnLoading(e),this.gtLoadReady?$("#captcha1").click():this.loopCheckCaptchaObj(0,e)},loopCheckCaptchaObj:function(e,o){if(randomCodeObj.gtLoadReady)$("#captcha1").click();else{if(100<e)return void randomCodeObj.captchaOverTime(o);e+=1,setTimeout(randomCodeObj.loopCheckCaptchaObj,100,e,o)}},addBtnLoading:function(e){var o=e.outerWidth()/2,n=e.outerHeight()/2,t=e.text();e.addClass("disabled").text("").attr("style","opacity:0.38");var i='<div class="btnLoading" data-name="'+t+'" style="position: absolute;"><img width="26" height="26" src="'+resourse_js_img_css_webUrl+'/css/common/images/loading4.gif" style="position: absolute;right:-'+(o+13)+"px;bottom:"+(n-13)+'px;max-width:26px;"/></div>';e.after(i)},removeBtnLoadding:function(){if(0<$(".btnLoading").length){var e=$(".btnLoading").attr("data-name");$(".btnLoading").prev().removeClass("disabled").text(e).attr("style","opacity:1"),$(".btnLoading").remove()}},captchaOverTime:function(e){var o=this;o.removeBtnLoadding(),$("<div></div>").DialogSimple({text:'<div class="center">'+rss_new.captcha_loadingOVerTime+"</div>",btnText:rss_new.activity_retried,btnFn:function(){this.hide(),o.homeCaptcha(e)},btnLeftText:rss_new.box_js_cancel}).show()},extendRandCodeParams:function(e){if("2"==this.getRandomCodeDisplayType())var o=ramdonCodeImgObj.getRandomCode();else o=$("#randomCode").val().trim();var n={randomCode:o,session_code_key:this.getCodeKey(),randomCodeDisplayType:this.getRandomCodeDisplayType()};return $.extend({},e,n)},isGtRandomCode:function(){var e=!1;return"1"==this.getDisplayCaptchaType()&&(e=!0),e},getDisplayCaptchaType:function(){return localInfo.displayCaptchaType?localInfo.displayCaptchaType:""},getRandomCodeDisplayType:function(){return localInfo.randomCodeDisplayType?localInfo.randomCodeDisplayType:""},getCodeKey:function(){return localInfo.session_code_key?localInfo.session_code_key:""}}}(window),function(){offChromeAutocomplete();var A=$("#login_userName"),c=$("#login_password"),l=$("#login_phoneNum"),d=$("#smsAuthCode"),u=$("#smsRandomCode"),f=$("#twice_login_password"),e=function(){};function T(r,a,s,c,l){if(!(a.length<=1)){s=s||1,localInfo.popStep=s,c=c||{};var e=[],o=[],n=[],t=function(e,o){for(var n=0;n<e.length;n++)if(e[n].cy===o)return e[n].rCY};if(1==s&&!function h(e,o,n){var t=function(e){if(0==i.length)return!1;for(var o=0;o<i.length;o++)if(i[o]===e)return!0;return!1};if(e==undefined||e.length<=1)return!1;for(var i=[],r=[],a=0;a<e.length;a++)t(e[a].cy)||(i.push(e[a].cy),r.push(e[a].expressCY||""));if(i.length<=1)return!1;for(a=0;a<i.length;a++)o.push(i[a]),n.push(r[a]);return!0}(a,e,o)){var i=a[0].cy;return c.firstInfo=i,r.startsWith("00"+i)||(r="00"+i+r),void T(r,a,s+1,c,l)}if(2==s&&!function g(e,o,n){var t=[],i=function(e){if(0==t.length)return!1;for(var o=0;o<t.length;o++)if(t[o].rCy===e)return!0;return!1};if(e==undefined||e.length<=1)return!1;for(var r=0;r<e.length;r++)if(e[r].cy===o&&!i(e[r].rCY)){var a={};a.rCy=e[r].rCY,a.expressRCy=e[r].expressRCy,t.push(a)}if(t.length<=1)return!1;for(r=0;r<t.length;r++)n.push(t[r]);return!0}(a,c.firstInfo,n)){var d=t(a,c.firstInfo);return c.secInfo=d,registerSiteID=a[0].siteID+"",void m(r,function(e){e.siteInfoList&&1<e.siteInfoList.length?T(r,e.siteInfoList,s+1,c,l):localInfo.isClickedLogin&&(localInfo.isClickedLogin=!1,$("#btnLogin").click())},!1,!1,12,{registerCountry:d})}var u="";if(1==s){localInfo.isSelectTwicePhoneAccount=!1;for(var f=0;f<e.length;f++)u+='<div class="multi-account-row code-node line mkcl">',u+='<b class="radioUnCheck ccr radio roff r" data-group="toSelect" data-value="'+e[f]+'"></b>',u+='<p class="item">',u+='<span class="inlineBloke">'+o[f]+'</span><span class="split">&nbsp;+'+e[f]+"&nbsp;</span>",u+="</p>",u+="</div>"}if(2==s){localInfo.isSelectTwicePhoneAccount=!1;for(f=0;f<n.length;f++)u+='<div class="multi-account-row code-node line mkcl">',u+='<b class="radioUnCheck ccr radio roff r" data-group="toSelect" data-value="'+n[f].rCy+'"></b>',u+='<p class="item">',u+='<span class="split cc multi-col-name">'+n[f].expressRCy+"</span>",u+="</p>",u+="</div>"}if(3==s)for(f=0;f<a.length;f++)u+='<div class="multi-account-row row-step3 code-node line mkcl">',u+='<b class="radioUnCheck ccr radio roff r" data-group="toSelect" data-value="'+a[f].loginID+'"></b>',a[f].avatar?u+='<span class="l"><img src="'+a[f].avatar+'" alt="" class="avatarDefault avatarCircle" onerror="this.className=\'avatarDefault\'; this.src=\''+localInfo.defaultAvatar+"';this.onerror = null;\"></span>":u+='<span class="l"><img src="'+(localInfo.defaultAvatar||"#")+'" class="avatarDefault avatarCircle" alt="" onerror="this.src=\'\'"></span>',u+='<p class="item">',u+='<span class="split cc multi-col-name">'+(a[f].nickName||"")+'</span><span class="split ua multi-col-account">'+a[f].loginID+"</span>",u+="</p>",u+="</div>";t=function(e,o){for(var n=0;n<e.length;n++)if(e[n].cy===o)return e[n].rCY};var p=[rss_new.uc_common_choose_country_code_tip,rss_new.uc_twice_countryregion,rss_new.uc_twice_selecloginID];$("<div/>").Dialog({title:p[s-1],titleUnderline:!1,btnRight:!1,btnLeft:!1,html:u,cancelFn:function(){1!=s&&2!=s||$("#login_userName").focus(),3==s&&(localInfo.isSelectTwicePhoneAccount=!1,$("#login_userName").val("").siblings("label").show())},beforeAction:function(){var i=this;i.disableLock=!1,$(".radioUnCheck,.radioCheck").bind("click",function(){if(!i.disableLock){i.disableLock=!0;var e=$(this),o=e.attr("data-value");if(e.removeClass("radioUnCheck"),e.addClass("radioCheck"),1==s&&(c.firstInfo=o,r.startsWith("00"+o)||(r="00"+o+r,l.val(r)),setTimeout(function(){T(r,a,s+1,c,l)},300)),2==s){var n={registerCountry:c.secInfo=o},t=function(e,o){for(var n=0;n<e.length;n++)if(e[n].rCY==o)return e[n].siteID}(a,o);setTimeout(function(){m(r,function(e){if(e.siteInfoList&&1<e.siteInfoList.length)T(r,e.siteInfoList,s+1,c,l);else if(e.siteInfoList&&0==e.siteInfoList.length){"10000507"==e.errorCode&&E()}else e.siteInfoList&&1==e.siteInfoList.length&&(localInfo.currentSiteID==String(t)&&0==e.lowLogin?localInfo.isSelectTwicePhoneAccount=!1:(localInfo.userPhoneAccount=r,localInfo.isSelectTwicePhoneAccount=!0,l.val(e.siteInfoList[0].loginID)),D(e.crossSiteModel,e.redirectSiteUrl,e.extInfo))},!1,!1,12,n)},300)}if(3==s){c.thirdInfo=o,localInfo.userPhoneAccount=r,localInfo.isSelectTwicePhoneAccount=!0,l.val(o);n={registerCountry:c.secInfo,anonymousLoginID:o};setTimeout(function(){m(r,function(e){1==e.siteInfoList.length&&D(e.crossSiteModel,e.redirectSiteUrl,e.extInfo)},!1,!1,13,n)},300)}i.hide()}})}}).Dialog("show")}}function x(n,t){var e=getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode")));localInfo.smsUserAccount=$("#login_phoneNum").val().trim();var i={userAccount:e,orgUserAccount:$("#login_phoneNum").val().trim(),smsAuthCode:$("#smsAuthCode").val(),opType:"11",reqClientType:localInfo.reqClientType,loginChannel:localInfo.loginChannel,lang:localInfo.lang,service:localInfo.service,quickAuth:localInfo.quickAuth,siteID:localInfo.accBelongSite};0<$("#remember_smsName").length?$("#remember_smsName").prop("checked")?i.remember_name="on":i.remember_name="off":localInfo.rememberAccount?i.remember_name="on":i.remember_name="off","object"==typeof n&&16==n.opType&&(i.birthday=n.birthday,i.opType="1"),"object"==typeof n&&18==n.opType&&(i.opType="18",localInfo.smsLoginHasRisk&&(localInfo.updAgreementAndSMSLoginRisk=!0)),"object"==typeof n&&n.twoFactorType?(i=$.extend({},i,n),localInfo.smsLoginHasRisk=!0):localInfo.updAgreementAndSMSLoginRisk||(localInfo.smsLoginHasRisk=!1),g("allClean"),casAjaxObj.loginBySMS(i,function(e){if(!e.needPopTrust||!localInfo.smsLoginHasRisk)return $.isFunction(t)&&t(),$(".loginmask").show(),gotoUrl(e.callbackURL),!1;$(".global_dialog_confirm_main").hide(),v(function(){return $.isFunction(t)&&t(),$(".loginmask").show(),C(e.callbackURL),!1},null,!0)},function(e,o){p(e,o,i,t,n)})}function p(e,o,n,t,i){var r=n.opType?n.opType:"0",a=o.errorCode;switch(a){case"10002080":var s=(h=$.parseJSON(o.errorDesc)).authCodeSentList,c=h.tipsSceneID,l=rss_new.risk_control_low;"1"==c&&(l=rss_new.risk_control_high);var d=!1,u=[],f=convPlusOfPhoneAccount($("#login_userName").val().trim());localInfo.isSelectTwicePhoneAccount&&(f=localInfo.userPhoneAccount),"1"==localInfo.isReReg&&(f=$("#twicePhoneAccount").attr("data-attr")),$.each(s,function(e,o){1==o.sent&&-1==o.accountType&&(d=!0)}),d?(p={userAccount:f,callbackFn:login,siteID:localInfo.curAccountSiteID,password:$("#password").val(),authCodeSentList:s},acctProtectV2Dialog(p)):($.each(s,function(e,o){u.push({accountType:o.accountType,userAccount:o.name})}),p={lBtnTxt:rss_new.box_js_cancel,rBtnTxt:rss_new.box_js_confirm,queryCond:f,siteID:localInfo.curAccountSiteID,accountInfoArr:u,extInfo:localInfo.extInfo,accountInfoArr:u,desc:l,tipsSceneID:c,callbackFn:login},authDialog(p));break;case"10002081":case"10008005":$.isFunction(t)&&t(),(p={siteID:localInfo.curAccountSiteID,opType:"9",callbackFn:login}).tipsSceneID=n.tipsSceneID,n.twoStepVerifyCode&&(p.twoStepVerifyCode=n.twoStepVerifyCode,p.verifyUserAccount=n.verifyUserAccount,p.verifyAccountType=n.verifyAccountType,p.dialog=n.dialog,p.opType="6"),updatePWDDialog(p);break;case"10002071":f=A.val();localInfo.isSelectTwicePhoneAccount&&(f=localInfo.userPhoneAccount),function C(e,o,n,t,i,r,a,s){if(null==e)return;e=e.trim();var c=getAccountType(e);"2"==c?function u(t,e,o,n,i,r,a,s){var c=t,l="";l=(l=(l=l+'<p class="inptips2">'+rss_new.uc_verify_phone_tip.format(getExpressPhone(c))+"</p>")+'<div id="unactived_phone"></div>')+'<div class="dinput"  id="oldAuthCode-box"><input id="security_account_verify_code" type="text"/><div class="dbtn2 sbtn r" act="getVerificationCode" intervaltime="60" id="getAuthCodeBtn"><span>'+rss_new.uc_common_get_authcode+'</span><div id="get_authcode_error_info"></div></div></div><div id="auth_code_error_info" class="error-tips-EMUI5"></div>';var d={title:rss_new.uc_verify_phone,btnRight:{text:rss_new.common_verify,fn:function(){var e=this;if(validator($("#security_account_verify_code"),!0)){var o=$("#security_account_verify_code").val();!function i(e,o,n){var t={operType:1,mobilePhone:e,reqClientType:localInfo.reqClientType,smsAuthCode:o};casAjaxObj.activateMsisdn(t,function(e){"function"==typeof n&&n()},function(e,o){S($("#oldAuthCode-box"),$("#auth_code_error_info"),e)})}(t,o,function(){e.hide()})}}},btnLeft:{text:rss_new.common_cancel,fn:function(){}},actions:{getVerificationCode:function(){var o=this;(function n(e,o){if(e.find("[act='getVerificationCode']").attr("disabled"))return!1;return!0})(this.$dialog)&&function l(o,n,e,t,i){i||(i=n);var r={},a=$("#auth_code_error_info");1==o||5==o?(r={email:n,emailReqType:e,accountType:o,reqClientType:localInfo.reqClientType,operType:19,languageCode:localInfo.lang},casAjaxObj.getEMailAuthCode(r,s,c)):2!=o&&6!=o||(r={accountType:o,userAccount:n,reqClientType:localInfo.reqClientType,mobilePhone:i,operType:19,smsReqType:e,languageCode:localInfo.lang},casAjaxObj.getSMSAuthCode(r,s,c));function s(e){2==o||6==o?showMsgSuccess({obj:$("#get_authcode_error_info"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(n)),leftPix:"-289px",rightPix:"-289px",bottom:"38px"}):1!=o&&5!=o||(showMsgSuccess({obj:$("#get_authcode_error_info"),msg:rss_new.common_email_has_sendto.format(n),leftPix:"-289px",rightPix:"-289px",bottom:"38px"}),$(".userAccount").html(n)),t&&t(1==e.isSuccess)}function c(e,o){S("",a,e),t&&t(1==o.isSuccess)}}(2,t,0,function(e){e&&function t(e,o){var n=e.find("[act='getVerificationCode']");if(n.attr("disabled"))return!1;return n.addClass("auth_code_grey"),jsInnerTimeout(n,o),!0}(o.$dialog,rss_new.uc_common_resend)})}},html:l,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){var o=this;!function i(e,n,t){validator.bind(e,{type:["require","length","number"],trim:!0,min:4,max:8,validOnChange:!1,msg:{require:rss_new.common_js_inputcode,length:rss_new.common_js_wrongcode,number:rss_new.common_js_wrongcode},errorFunction:function(e,o){switch(n.addClass("input-error-EMUI5"),o.type){case"require":t.html(rss_new.common_js_inputcode);break;case"length":t.html(rss_new.common_js_wrongcode);break;case"number":t.html(rss_new.common_js_wrongcode)}},successFunction:function(e,o){},reInputFunction:function(){t.html(""),n.removeClass("input-error-EMUI5")}})}($("#security_account_verify_code"),$("#oldAuthCode-box"),$("#auth_code_error_info")),o.disabled();var e=$("#security_account_verify_code");e.bind("keyup paste",function(){var e=this;setTimeout(function(){""!=$(e).val().trim()?o.enable():o.disabled()},0)})}};$("<div>").Dialog(d).Dialog("show"),$.label($("#security_account_verify_code"),rss_new.registerbyphone_js_codelength)}(e):"1"==c?function l(e,o,n,t,i,r,a){var s=" ";s+="<div>",s+='<p class="inptips3 det-width">'+n+"</p>",s+='<div style="margin-top: 10px">',s+='<div class="dbtn3 resendBtn" act="action"  intervaltime="60" id="getActive"><span>'+i+"</span></div>",s+='</div><div id="get_authcode_error_info" class="error-tips-EMUI5 emailValidFail"></div>',s+="</div>";var c={title:rss_new.uc_common_unverified_email_addr,btnRight:{text:a,fn:function(){k(convPlusOfPhoneAccount($("#login_userName").val().trim()))?this.hide():S("",$("#get_authcode_error_info"),rss_new.uc_common_verified_unfinished)}},btnLeft:{text:r,fn:function(){this.hide()}},html:s,dialogStyle:localInfo.msgDialogStyle,actions:{action:function(){return!$("#getActive").attr("disabled")&&(k(convPlusOfPhoneAccount($("#login_userName").val().trim()))?(S("",$("#get_authcode_error_info"),rss_new.uc_error_70002019),!1):void L(convPlusOfPhoneAccount($("#login_userName").val().trim()),localInfo.reqClientType,$("#getActive")))}}};$("<div>").Dialog(c).Dialog("show"),L(convPlusOfPhoneAccount($("#login_userName").val().trim()),localInfo.reqClientType,$("#getActive")),$(".userAccount").html(convPlusOfPhoneAccount($("#login_userName").val().trim()))}(0,0,t,0,r,a,s):R(rss_new.uc_error_70002009,"loginErr","",!0)}(f,0,rss_new.uc_common_unverified_email_addr,rss_new.uc_common_verify_email_sendto.format(f),localInfo.emailPng,rss_new.uc_common_resend,rss_new.common_cancel,rss_new.modifyUserInfo_verified);break;case"10000706":"SMSLogin"!=localInfo.currentPage&&(localInfo.isNeedImageCode=!0,$("#captcha1").length<=0&&getCaptcha());break;case"10001015":if("11"==r)var p={callbackFn:x,mobilePhone:getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode"))),smsAuthCode:$("#smsAuthCode").val(),opType:18};else p="1"==localInfo.isReReg?{callbackFn:login,userAccount:convPlusOfPhoneAccount($("#twicePhoneAccount").attr("data-attr")),password:$("#twice_login_password").val(),authcode:n.authcode,opType:17}:{callbackFn:login,userAccount:convPlusOfPhoneAccount($("#login_userName").val().trim()),password:$("#login_password").val(),authcode:n.authcode,opType:17};var h=$.parseJSON(o.errorDesc);localInfo.agrIDs=h.updateAgrs.join(","),localInfo.isChild=h.isChild,localInfo.isNeedVerifyGuardianPwd=h.isNeedVerifyGuardianPwd,localInfo.guardianUserAccount=h.guardianAccount,localInfo._10agrAgreeOrNot=h._10agrAgreeOrNot;n={agrIDs:JSON.stringify(h.updateAgrs),registerCountry:h.registerCountry,countryCode:h.registerCountry,reqClientType:localInfo.reqClientType,lang:localInfo.lang,clientID:localInfo.clientID,operType:"2"};casAjaxObj.getAgreementContent(n,function w(e){"1"==e.isSuccess&&(localInfo.agreementContents=e.agreementContents,localInfo.agrAccountSiteID=e.countrySiteID,popUpdateAgrs(popAgreeDFDialog,p))},function b(){});break;case"10000510":if("11"==r)p={callbackFn:x,mobilePhone:getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode"))),smsAuthCode:$("#smsAuthCode").val(),opType:r};else p={callbackFn:login,userAccount:$("#login_userName").val().trim(),password:$("#login_password").val(),authcode:n.authcode,opType:r};if("1"==localInfo.isThirdBind){i={userAccount:p.userAccount,password:p.password};agreeCrossSiteAgr(i,p.authcode,p.callbackFn)}else crossSiteIDDialog(p);break;case"10000507":E();break;case"10001049":var g=$.parseJSON(o.errorDesc),m=(g.callingCode,g.registerCountry),v=g.loginIDList,_=$("#login_userName").val().trim(),y={};y.firstInfo=_,y.secInfo=m,localInfo.isSelectTwicePhoneAccount=!0,T(_,v,3,y,$("#login_userName"));break;case"10000508":M();break;case"10000511":D(2,o.callbackURL,o.extInfo);break;case"10000201":localInfo.isNeedImageCode=!0,$("#captcha1").length<=0&&getCaptcha(),"0"==r?(localInfo.thirdLoginFlag&&1==localInfo.thirdLoginFlag&&(window.location.href=localInfo.loginUrl),$.isFunction(t)&&t(),R(e,"randomCode",$("#captcha1")),$("#randomCode").focus(),P()):"11"==r&&(R(e,"smsRandomCode",$("#smsCaptcha")),$("#smsRandomCode").focus(),P("smsRandomCode"));break;case"10000400":"0"==r?R(e,"loginErr","",!0):"1"==r&&($("#authCodeDiv").addClass("input-error-EMUI5"),$("#msg_error_auth").html(e));break;case"10000003":case"70002076":$("div").DialogSimple({text:rss_new.uc_error_70002076,btnText:rss_new.box_js_confirm,btnFn:function(){window.open(localHttps_AMW+"/securitycenter/unfrozeAccount.html"+localInfo.queryString)},btnLeftText:rss_new.common_cancel}).show();break;case"10002039":"0"==r?R(e,"randomCode",$("#captcha1")):"1"==r?($("#authCodeDiv").addClass("input-error-EMUI5"),$("#msg_error_auth").html(e)):"14"==r&&($("#forceBind_auth_error_tip").text(e).addClass("error-tips-EMUI5"),$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5"));break;case"70002039":"15"==r&&($("#forceBind_auth_error_tip").text(e).addClass("error-tips-EMUI5"),$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5"));break;case"10002057":"0"==r?(R(e,"loginErr","",!0),$(".error_findPwd").on("click",function(){localInfo.resetPwdLink?window.top.location.href=localInfo.findPwd+localInfo.resetPwdLink:window.top.location.href=localInfo.findPwd+localInfo.queryString})):"1"==r?($("#authCodeDiv").addClass("input-error-EMUI5"),$("#msg_error_auth").html(e)):"9"==r||"6"==r?S($("#passwordDivTip"),$("#new_pwd_error_info"),rss_new.uc_error_70002057_2):"11"==r?R(e,"loginErr"):"14"==r&&($("#forceBind_auth_error_tip").text(e).addClass("error-tips-EMUI5"),$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5"));break;case"70002057":"15"==r?($("#forceBind_auth_error_tip").text(e).addClass("error-tips-EMUI5"),$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")):"11"==r&&R(e,"loginErr");break;case"10002058":"0"==r?(R(e,"loginErr","",!0),$(".error_findPwd").on("click",function(){localInfo.resetPwdLink?window.top.location.href=localInfo.findPwd+localInfo.resetPwdLink:window.top.location.href=localInfo.findPwd+localInfo.queryString})):"1"==r?($("#authCodeDiv").addClass("input-error-EMUI5"),$("#msg_error_auth").html(e)):"9"==r||"6"==r?S($("#passwordDivTip"),$("#new_pwd_error_info"),e):"11"==r?R(e,"loginErr"):"14"==r&&($("#forceBind_auth_error_tip").text(e).addClass("error-tips-EMUI5"),$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5"));break;case"70002058":"15"==r?($("#forceBind_auth_error_tip").text(e).addClass("error-tips-EMUI5"),$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5")):"11"==r&&R(e,"loginErr");break;case"70008001":case"70002070":case"70002020":case"70009016":S($("#passwordDivTip"),$("#new_pwd_error_info"),e);break;case"70005004":"0"==r?R(e,"loginErr"):"1"==r?($("#authCodeDiv").addClass("input-error-EMUI5"),$("#msg_error_auth").html(e)):"14"==r&&(R(e,"loginErr"),$("#forceBindPhoneErrInfo").parents(".global_dialog_confirm_main").hide(),$(".global_black_overlay").hide());break;case"10000505":"0"==r?R(e,"loginErr"):"1"==r&&($("#authCodeDiv").addClass("input-error-EMUI5"),$("#msg_error_auth").html(e));break;case"10000402":"11"==r&&R(e,"loginErr","",!0);break;case"70001401":case"70008805":"11"==r&&R(e,"loginErr");break;case"10012075":p={callbackFn:login,errorDesc:o.errorDesc};forceBindPhone(p);break;case"10012079":if("11"==r)p={callbackFn:x,errorDesc:o.errorDesc};else p={callbackFn:login,errorDesc:o.errorDesc};completeBirth(p);break;case"10012078":p={callbackFn:login,errorDesc:o.errorDesc};popOldUserBind(p);break;case"70002001":!function I(e){var o=$.parseJSON(e.errorDesc);$("div").DialogSimple({text:rss_new.smsLogin_gotoRegister.format($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode")+"&nbsp;"+$("#login_phoneNum").val().trim()),btnText:rss_new.loginError_70002001_confirmBtn,btnFn:function(){location.href=localHttps+"/portal/userRegister/regbyphone.html"+localInfo.queryString.replace(/(&countryCode=.*?&)/,"&countryCode="+$("#smsLoginCountryCodeDiv .select-text").attr("data-regions")+"&")+"&extInfo="+o.extInfo},btnLeftText:rss_new.box_js_cancel}).show()}(p={errorDesc:o.errorDesc});break;case"70006007":"14"==r&&($("#forceBindPhoneErrInfo").text(e).addClass("error-tips-EMUI5"),$("#forceBindPhoneNumDiv").addClass("input-error-EMUI5"));break;case"10002083":R(e,"loginErr","",!0);break;case"10012076":window.smsLoginValidate=new SmsLoginValidate(o,x);break;case"11002087":config.currentDialog&&config.currentDialog.hide(),O();break;case"70002002":"15"==r&&($("#forceBindPhoneErrInfo").text(e).addClass("error-tips-EMUI5"),$("#forceBindPhoneNumDiv").addClass("input-error-EMUI5"));break;case"10012072":case"10010001":case"10010002":case"10010003":case"11000400":case"11002057":case"11002058":"10012072"==a?window.smsLoginValidate=new SmsLoginValidate(o,x):smsLoginValidate.dealErrorCode(o);break;default:"0"==r?R(e,"loginErr"):"1"==r?$("#msg_error_auth").html(e):"9"==r||"6"==r?S("",$("#new_pwd_error_info"),e):"11"==r?R(e,"loginErr"):"14"!=r&&"15"!=r||($("#forceBind_auth_error_tip").text(e).addClass("error-tips-EMUI5"),$("#getForceBindAuthCodeDiv").addClass("input-error-EMUI5"))}}function D(e,o,n){if(2==e){if(localInfo.isThirdBind)return;0<o.indexOf("oauth2")?o+=localInfo.queryString:"true"==localInfo.isNewCloudLoginPage?localInfo.supportNewCloudLogin?o=o+localInfo.requestURIQuery+"&lowLogin=true":o+=localInfo.oldRequestURIQuery:o+=localInfo.requestURIQuery,n&&(o=0<o.indexOf("?")?o+"&extInfo="+n:o+"?extInfo="+n),function t(e){var o=rss_new.global_cross_page_redirect;$("<div>").Dialog({title:rss_new.common_hint,btnLeft:{text:rss_new.common_cancel,fn:function(){this.hide()}},btnRight:{text:rss_new.common_ok,fn:function(){"true"==localInfo.isNewCloudLoginPage&&localInfo.supportNewCloudLogin?gotoUrl(e):C(e)}},html:o,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}(o)}}function h(){var e=getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode"))),o={phoneOrEmail:e,authCodebtn:$("#getSmsRandomCode")};o.account=e,o.siteID=localInfo.accBelongSite,o.reqType=2,o.accountType=2,o.errorTip=$("#smsAuthCode-errMsg"),o.errorDiv="",o.isSmsLogin=!0,function g(e){var o=e.userID,n=e.account,t=e.phoneOrEmail,i=e.accountType,r=e.authCodebtn,a=e.reqType,s=e.siteID,c=e.errorStyle,l=e.errorTip,d=e.errorDiv,u=(!!e.failCustomize&&e.failCustomize,"0");u=e.operType;var f;e.isLogin;r.attr("disabled"),-1!=t.indexOf("@")?(1,f={userID:o,accountType:i,reqClientType:localInfo.reqClientType,userAccount:n,emailReqType:a,operType:u,email:t,siteID:s,languageCode:localInfo.lang},casAjaxObj.getEMailAuthCode(f,p,h)):(2,f={accountType:i,userAccount:n,reqClientType:localInfo.reqClientType,mobilePhone:t,operType:u,smsReqType:a,siteID:s,languageCode:localInfo.lang},e.isSmsLogin&&(f.operType="20",f.service=localInfo.service,f.loginChannel=localInfo.loginChannel),"identifyVerify"==e.type&&(f.smsReqType="3"),e.isSmsLogin?(randomCodeObj.isGtRandomCode()?f.randomCode=localInfo.captchaRandomCode:(f.randomCode=$("#smsRandomCode").val().trim(),f.session_code_key="sms_login_session_ramdom_code_key"),casAjaxObj.getSMSCodeV3(f,p,h)):casAjaxObj.getSMSAuthCode(f,p,h));function p(){r.attr("disabled"),e.isSmsLogin?f.email?showMsgSuccess({obj:$("#smsAuthCodeTips"),msg:rss_new.common_email_has_sendto.format(f.email),leftPix:"-243px",rightPix:"-228px",bottom:"38px"}):showMsgSuccess({obj:$("#smsAuthCodeTips"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(f.mobilePhone)),leftPix:"-243px",rightPix:"-228px",bottom:"38px"}):f.email?showMsgSuccess({obj:$("#authCodeError"),msg:rss_new.common_email_has_sendto.format(f.email),leftPix:"-274px",rightPix:"-235px",bottom:"32px"}):showMsgSuccess({obj:$("#authCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(f.mobilePhone)),leftPix:"-274px",rightPix:"-235px",bottom:"32px"}),r.addClass("auth_code_grey"),jsInnerTimeout(r,rss_new.uc_common_resend)}function h(e,o){r.removeAttr("disabled");var n=o.errorCode;c?(d&&""!=d&&d.addClass("input-error-EMUI5"),"70001104"==n?l.html(e,"left"):l.html(e)):"70002076"==n?$("div").DialogSimple({text:rss_new.uc_error_70002076,btnText:rss_new.box_js_confirm,btnFn:function(){location.href=localHttps_AMW+"/securitycenter/unfrozeAccount.html"+localInfo.queryString},btnLeftText:rss_new.common_cancel}).show():"10000201"==n?(R(rss_new.login_pictureCodeExpired,"smsRandomCode",$("#smsCaptcha")),$("#smsRandomCode").focus(),P("smsRandomCode")):"70009032"==n?R(rss_new.common_js_error,"phoneNum",$("#login_phoneNum")):R(e,"loginErr")}}(o)}function P(e){if("smsRandomCode"==e){var o=$("#smsRandomCode"),n=$("#smsRandomCodeImg");chgRandomCode(n[0],localInfo.webssoSMSLoginSessionCode),o.val(""),$("#smsAuthCodeRight").removeClass("poptips-yes"),$("#smsRandomCode_msg").html(""),g("randomCode")}else if("twiceRandomCode"==e){var t=$("#twiceRandomCode"),i=$("#twiceRandomCodeImg");chgRandomCode(i[0],localInfo.reRegLoginSessionCode),t.val(""),$("#twiceAuthCodeRight").removeClass("poptips-yes"),g("twiceRandomCode")}else{t=$("#randomCode"),i=$("#randomCodeImg");chgRandomCode(i[0],localInfo.webssoLoginSessionCode),t.val(""),$("#authCodeRight").removeClass("poptips-yes")}try{hwcap&&hwcap.reload()}catch(r){}}function k(e){var o=!0;return function i(e,o,n){var t={userAccount:convPlusOfPhoneAccount(e),reqClientType:localInfo.reqClientType,operType:o};casAjaxObj.getUserAccInfo(t,function(e){n(e)},function(){},null,!1)}(e,5,function(e){o=-1!=e.userState}),o}function L(e,o,n){var t={reqClientType:o,languageCode:localInfo.lang};n.attr("disabled"),casAjaxObj.getActivateEMailURL(t,function(e){null!=n&&(n.attr("IntervalTime",60),n.addClass("auth_code_grey"),jsInnerTimeout(n,rss_new.uc_common_resend),n.attr("disabled"))},function(e,o){null!=n&&n.removeAttr("disabled"),S("",$("#get_authcode_error_info"),e)})}function m(r,a,e,n,o,t){if(r){localInfo.popStep="";var i={userAccount:convPlusOfPhoneAccount(r),lowLogin:localInfo.lowLogin,service:localInfo.service,operType:o||"0",reqClientType:localInfo.reqClientType};$("#login_userName").is(":hidden")&&"1"!=localInfo.isThirdBind&&(i.operType="11"),12===o&&(i.registerCountry=t.registerCountry,localInfo.registerCountry=t.registerCountry),13===o&&(i.registerCountry=t.registerCountry,i.anonymousLoginID=t.anonymousLoginID),"1"===localInfo.isReReg&&(i.registerCountry=localInfo.rCY,i.anonymousLoginID=localInfo.loginID,i.operType="13"),casAjaxObj.chkRisk(i,function(e){e.errorCode;var o=e.crossSiteModel;$("#login_userName").is(":hidden")?localInfo.phoneCrossModel=o:localInfo.norCrossModel=o,2==o&&(localInfo.redirectSiteUrl=e.redirectSiteUrl,localInfo.extInfo=e.extInfo,localInfo.supportNewCloudLogin=e.supportNewCloudLogin);var n=e.existAccountFlag,t=e.isNeedImageCode;localInfo.curAccountSiteID=e.siteID,function i(e){{if(null==e||""==e.trim())return;e=e.trim()}""==localInfo.lastInputAccount?(localInfo.lastInputAccount=e,localInfo.curInputAccount=e):(localInfo.curInputAccount=e,localInfo.curInputAccount!=localInfo.lastInputAccount&&(localInfo.lastInputAccount=localInfo.curInputAccount))}(convPlusOfPhoneAccount(r)),1==t||"true"==localInfo.isOpenLocalCacheRisk?"SMSLogin"!=localInfo.currentPage&&(localInfo.isNeedImageCode=!0,$("#captcha1").length<=0&&getCaptcha()):(localInfo.isNeedImageCode=!1,0<$("#captcha1").length&&($("#picAuthCode").empty().parent().removeClass("user-input-tr"),$("#picAuthCode").removeClass("user-input-tr"),g("randomCode"))),1!=n&&2!=n||a(e)},function(e,o){$("#captcha1").length<=0?($("#randomCode").val(1111),localInfo.isNeedImageCode=!1):(localInfo.isNeedImageCode=!0,$("#randomCode").val("")),n&&(localInfo.chkRiskFail=!0),a(o)},{},e)}}function E(){var e='<span class="font-EMUI6">'+rss_new.common_noSupportService+"</span>";$("<div>").Dialog({title:rss_new.common_hint,btnLeft:!1,btnRight:{text:rss_new.common_ok,fn:function(){this.hide()}},html:e,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function M(){var e='<span class="font-EMUI6">'+rss_new.no_allow_cross_site_login+"</span>";$("<div>").Dialog({title:rss_new.common_hint,btnLeft:!1,btnRight:{text:rss_new.uc_common_igetit,fn:function(){this.hide()}},html:e,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")}function S(e,o,n,t,i){t=t||"input-error-EMUI5",i=i||"error-tips-EMUI5",e&&e.addClass(t),o.html(n).addClass(i)}function R(e,o,n,t){if(localInfo.fromCloud)"userName"==o?showError($("#msg_username"),e):"passWord"==o?showError($("#msg_login_password"),e):"randomCode"==o?(showError($("#msg_randomCode"),e),$(".poptips-yes").removeClass("poptips-yes")):showError($("#msg_login"),e);else{var i=$(".userAccountLogin-errorTipsDiv");$("#login_userName").is(":hidden")&&!localInfo.isReReg&&"true"!=localInfo.isThirdLogin?i=$(".smsValidateLogin-errorTipsDiv"):localInfo.isReReg&&(i=$(".twice-userAccountLogin-errorTipsDiv")),i.html('<i class="loginErrorInfo marginR6"></i>'+e).data("type",o),i.next().find("td").hasClass("error-underline")&&i.next().find(".error-underline").removeClass("error-underline"),n&&("phoneNum"==o?n.parent().parent().addClass("error-underline"):n.parent().addClass("error-underline")),"loginErr"==o&&t&&($("#login_userName").is(":hidden")?($("#login_phoneNum").parent().parent().addClass("error-underline"),$("#smsAuthCode").parent().addClass("error-underline")):($("#login_userName").parent().addClass("error-underline"),$("#login_password").parent().addClass("error-underline"))),("smsRandomCode"==o||"randomCode"==o&&n)&&n.parent().parent().find(".poptips-yes").removeClass("poptips-yes")}}function g(e){localInfo.fromCloud&&$(".cloud-error-tip").remove();var o=$(".userAccountLogin-errorTipsDiv"),n=!1;$("#login_userName").is(":hidden")&&!localInfo.isReReg&&"true"!=localInfo.isThirdLogin?(o=$(".smsValidateLogin-errorTipsDiv"),"phoneNum"!=e&&"smsAuthCode"!=e||(n=!0)):(localInfo.isReReg&&(o=$(".twice-userAccountLogin-errorTipsDiv")),"userName"!=e&&"passWord"!=e||(n=!0));var t=(o=o||$("#msg_password"))&&o.data("type");("loginErr"==t&&n||e==t||"allClean"==e)&&(o.html("").removeClass("loginErrorInfo"),o.text(""),o.next().find("td").hasClass("error-underline")&&o.next().find(".error-underline").removeClass("error-underline")),"smsRandomCode"==e&&0==$("#smsRandomCode").val().length?$("#smsAuthCodeRight").removeClass("poptips-yes"):"randomCode"!=e||randomCodeObj.isGtRandomCode()||"function"==typeof getRandomCode&&0==(getRandomCode()||"").length&&$("#authCodeRight").removeClass("poptips-yes")}function v(e,o,n){var t,i={};(t=localInfo.isReReg?$("#twicePhoneAccount").attr("data-attr"):$("#login_userName").is(":hidden")?$("#login_phoneNum").val():$("#login_userName").val())||(t=localInfo.userAccount),localInfo.isSelectTwicePhoneAccount&&(t=localInfo.userPhoneAccount),i.userAccount=t,i.operType=1,i.needVerifyOrChangePhoneParams=o,n?isTrustTheBrowser(i,e,rss_new.smsLogin_trustBrowser):isTrustTheBrowser(i,e)}function _(){0<$("#login_phoneNum").val().length&&(!randomCodeObj.isGtRandomCode()&&$("#smsAuthCodeRight").hasClass("poptips-yes")||randomCodeObj.isGtRandomCode())?$("#getSmsRandomCode").removeClass("btnUnable"):$("#getSmsRandomCode").addClass("btnUnable")}function y(n,e){var t="",i={},r={};return $.each(e,function(e,o){t=o.value.split(",")[1].substring(1),new RegExp("^00"+t+"[0-9]+$").test(n)&&(i.label=o.label,i.value=o.value),o.value.split(",")[0]==localInfo.urlCountryCode&&(r.label=o.label,r.value=o.value)}),0<Object.keys(i).length?i:r}function C(e){"undefined"!=typeof IFCLOUD?window.top.location.href=e:location.href=e}function O(e,o){var n=rss_new.smslogin_pleaseUsePwdLogin;e&&(n=e),$("div").DialogSimple({text:n,btnText:rss_new.box_js_confirm,btnFn:function(){this.hide(),$(".loginTitle-right").hasClass("actived")?$(".loginTitle-left").click():$('.changeLoginType[data-type="smsValidateLogin"]').click(),$('.changeLoginType[data-type="userAccountLogin"]').addClass("disable")},btnLeftText:rss_new.box_js_cancel,cancelBtnFn:function(){this.hide(),o&&o.show()}}).show()}e.prototype={init:function(){this.initPage(),this.initEvent()},initPage:function(){!function s(){(function i(){"true"==localInfo.isOpenDimensionalCode&&function(){var e,o,n=!1,t=(location.origin,localInfo.getqrURL,"");function a(){e=$.ajax({url:localInfo.asyncURL+"&t="+Math.random(),type:"post",timeout:3e4,data:{qrToken:t},beforeSend:function(e){e.setRequestHeader("Page-Token","undefined"==typeof pageToken?"":pageToken)},success:function(e,o,n){"0"==e.resultCode?function t(e){$(document.body).append('<form method="post" autocomplete="off" target="_parent" style="display: none;"><input type="hidden" id="form_submitType" name="submitType"  value="autoLoginInner"/><input type="hidden" name="loginUrl"/><input type="hidden" name="service"/><input type="hidden" name="deviceID" value="7894564633456649" /><input type="hidden" name="deviceType" value="0" /><input type="hidden" name="loginChannel"/> <input type="hidden" name="reqClientType"/><input type="hidden" id="form_userAccount" name="userAccount"/><input type="hidden" id="form_password" name="password"/><input type="hidden" id="form_authType" name="authType" value="1"/><input type="hidden" id="form_appID" name="appID" value="com.huawei.hwidweb"/><input type="hidden" id="form_opType" name="opType" value="4" /><input type="submit" id="scanSmt" style="display: none;" /></form>'),$(document.body).find("form:last").attr("action",localInfo.postRemoteLogin),$(document.body).find("form:last input[name='loginUrl']").val(localInfo.loginUrl),$(document.body).find("form:last input[name='service']").val(localInfo.service),$(document.body).find("form:last input[name='loginChannel']").val(localInfo.loginChannel),$(document.body).find("form:last input[name='reqClientType']").val(localInfo.reqClientType),$(document.body).find("form:last input[name='userAccount']").val(e.userAccount),$(document.body).find("form:last input[name='password']").val(e.token),$("#scanSmt").click()}(e):"103000201"==e.resultCode?function i(){$(".qrcode-over-time").show(),$(".scan-success-content").hide(),$(".refush-content").show()}():("103000202"==e.resultCode&&function r(){$(".qrcode-over-time").show(),$(".scan-success-content").show(),$(".refush-content").hide()}(),a())},error:function(){n&&a()}})}function i(o){var e=localInfo.getqrContent.split("?")[0];$.ajax({url:e,dataType:"json",type:"POST",data:{appID:getUrlParam(localInfo.getqrContent,"appID"),confirmFlag:getUrlParam(localInfo.getqrContent,"confirmFlag"),version:getUrlParam(localInfo.getqrContent,"version"),reqClientType:getUrlParam(localInfo.getqrContent,"reqClientType"),loginChannel:getUrlParam(localInfo.getqrContent,"loginChannel")},beforeSend:function(e){e.setRequestHeader("Page-Token","undefined"==typeof pageToken?"":pageToken)},success:function(e){t=e.qrToken,renderType="canvas",/msie\s+(7|8)/.test(navigator.userAgent.toLowerCase())&&(renderType="table"),$(".qrcode").html(""),$(".qrcode").qrcode({render:renderType,width:150,height:150,text:e.content}),o()}})}"true"==localInfo.onlyDimensionalCode&&(n=!0,0<$(".qrLogin-otherWayLink").children().length&&$(".qrLogin-otherWayLink").empty(),i(function(){a()}),o=($(".qrCode-main").width()-$("#qrcodeImg").outerWidth())/2+"px",isRightLang()?$("#qrcodeImg").css("right",o):$("#qrcodeImg").css("left",o)),$(".loginTitle-right").click(function(){$(this).hasClass("actived")||(n=!0,0<$(".qrLogin-otherWayLink").children().length&&$(".qrLogin-otherWayLink").empty(),$(".loginTitle-left").removeClass("actived"),$(".loginTitle-right").addClass("actived"),$(".b-account").hide(),$(".b-qrCode").show(),i(function(){a()}),o=($(".qrCode-main").width()-$("#qrcodeImg").outerWidth())/2+"px",isRightLang()?$("#qrcodeImg").css("right",o):$("#qrcodeImg").css("left",o))}),$(".loginTitle-left").click(function(){$(this).hasClass("actived")||(n=!1,e&&e.abort(),$(".loginTitle-right").removeClass("actived"),$(".loginTitle-left").addClass("actived"),$(".b-account").show(),$(".b-qrCode").hide(),$(".qrcode-over-time").hide())}),$(".qrCode-help").css("opacity","0"),$("#qrcodeImg").bind("mouseenter",function(){$("#qrcodeImg").stop(),$(".qrCode-help").stop(),isRightLang()?$("#qrcodeImg").animate({right:"20px"},700,function(){}):$("#qrcodeImg").animate({left:"20px"},400,function(){}),$(".qrCode-help").animate({opacity:1},500,function(){})}),$(".qrCode-main").bind("mouseleave",function(){$("#qrcodeImg").stop(),$(".qrCode-help").stop(),isRightLang()?$("#qrcodeImg").animate({right:o},700):$("#qrcodeImg").animate({left:o},400,function(){}),$(".qrCode-help").animate({opacity:0},300)}),$("#qrcodeImg .refush").click(function(e){$(".qrcode-over-time").hide(),$(".refush-content").hide(),$(".scan-success-content").hide(),i(function(){!function e(){a(),$(".qrcode-over-time").hide(),$(".refush-content").hide(),$(".scan-success-content").hide()}()})})}()})(),function r(){accountValidator({$account:A,showErrorFn:function(e){R(e,"userName",$("#login_userName"))},reInputFn:function(){g("userName")}}),validator.bind(c,{type:["require"],trim:!1,validOnChange:!0,min:8,max:32,errorFunction:function(e,o){switch(o.type){case"require":R(rss_new.common_js_inputpwd,"passWord",$("#login_password"))}},successFunction:function(e){$("#login_msg").hide(),e.removeClass("error")},reInputFunction:function(){g("passWord")}}),validator.bind(f,{type:["require"],trim:!1,validOnChange:!0,min:8,max:32,errorFunction:function(e,o){switch(o.type){case"require":R(rss_new.common_js_inputpwd,"passWord",$("#twice_login_password"))}},successFunction:function(e){$("#login_msg").hide(),e.removeClass("error")},reInputFunction:function(){g("passWord")}}),validator.bind(l,{type:["require","phoneNumber"],validOnChange:!0,countryCode:"#smsLoginCountryCodeDiv .select-text",errorFunction:function(e,o){switch(o.type){case"require":R(rss_new.common_js_emptyphone,"phoneNum",$("#login_phoneNum"));break;case"phoneNumber":R(rss_new.common_js_error,"phoneNum",$("#login_phoneNum"))}},successFunction:function(){_(),g("phoneNum")},reInputFunction:function(){_(),g("phoneNum")}});var e=$("#smsRandomCode");e.validator("bind",{type:["require","length"],trim:!0,validOnChange:!1,max:4,min:4,reInputEvent:"keyup",errorFunction:function(e,o){switch(R(rss_new.common_wrong_authcode,"smsRandomCode",$("#smsCaptcha")),$("#smsAuthCodeRight").removeClass("poptips-yes"),o.type){case"require":$("#smsRandomCode_msg").html(rss_new.common_js_inputcode);break;case"length":$("#smsRandomCode_msg").html(rss_new.login_js_codeerror)}},successFunction:function(e,o){_()},reInputFunction:function(){g("smsRandomCode"),$("#smsRandomCode_msg").html(""),$("#smsAuthCodeRight").removeClass("poptips-yes"),_()}}),e.on("keyup",function(){var e=$(this).val();if("undefined"!=typeof $(this)[0]&&4<=e.length){e=(e=e.removeAllSpace()).substring(0,4),$(this).val(e);var o={randomCode:e,session_code_key:"sms_login_session_ramdom_code_key"};casAjaxObj.authCodeValidate(o,function n(){$("#smsAuthCodeRight").addClass("poptips-yes"),$("#smsRandomCode_msg").html(""),g("smsRandomCode"),_()},function t(e){$("#smsRandomCode").val(""),chgRandomCode($("#smsRandomCodeImg")[0],localInfo.webssoSMSLoginSessionCode),$("#smsAuthCodeRight").removeClass("poptips-yes"),R(rss_new.common_wrong_authcode,"smsRandomCode",$("#smsCaptcha")),_();try{hwcap&&hwcap.reload()}catch(o){}})}}),validator.bind(d,{type:["require","length","number"],trim:!0,min:4,max:8,validOnChange:!0,msg:{require:rss_new.common_js_inputcode,length:rss_new.forgetbyphone_wrongsmscode,number:rss_new.forgetbyphone_wrongsmscode},errorFunction:function(e,o){switch(o.type){case"require":R(rss_new.forgetbyphone_inputsmscode,"smsAuthCode",$("#smsAuthCode"));break;case"length":case"number":R(rss_new.forgetbyphone_wrongsmscode,"smsAuthCode",$("#smsAuthCode"))}},successFunction:function(e,o){},reInputFunction:function(){g("smsAuthCode")}});var o=$("#twiceRandomCode");o.validator("bind",{type:["require","length"],trim:!0,validOnChange:!1,max:4,min:4,reInputEvent:"keyup",errorFunction:function(e,o){R(rss_new.common_wrong_authcode,"twiceRandomCode",$("#twiceCaptcha")),$("#twiceAuthCodeRight").removeClass("poptips-yes")},successFunction:function(e,o){},reInputFunction:function(){g("twiceRandomCode"),$("#twiceCaptcha").html(""),$("#twiceAuthCodeRight").removeClass("poptips-yes")}}),o.on("keyup",function(){var e=$(this).val();if("undefined"!=typeof $(this)[0]&&4<=e.length){e=(e=e.removeAllSpace()).substring(0,4),$(this).val(e);var o={randomCode:e,session_code_key:"login_session_ramdom_code_key"};casAjaxObj.authCodeValidate(o,function n(){$("#twiceAuthCodeRight").addClass("poptips-yes"),$("#twiceCaptcha").html(""),g("twiceRandomCode")},function t(e){$("#twiceRandomCode").val(""),chgRandomCode($("#twiceRandomCodeImg")[0],localInfo.reRegLoginSessionCode),$("#twiceAuthCodeRight").removeClass("poptips-yes"),R(rss_new.common_wrong_authcode,"twiceRandomCode",$("#twiceCaptcha"));try{hwcap&&hwcap.reload()}catch(o){}})}}),validator.bind($("#twice_login_password"),{type:["require"],trim:!1,validOnChange:!0,min:8,max:32,errorFunction:function(e,o){switch(o.type){case"require":R(rss_new.common_js_inputpwd,"passWord",$("#twice_login_password"))}},successFunction:function(e){$("#login_msg").hide(),e.removeClass("error")},reInputFunction:function(){g("passWord")}})}(),$(".loginmask").hide(),function a(o){"true"==localInfo.cookiePrivateAgreement&&(getCookie(o)||$("#cookies_privacy").removeClass("hidden"),$("#cookies_privacy").find("img").click(function(e){$("#cookies_privacy").addClass("hidden"),setCookie(o,!0)}))}("isRead"),A.focus(),"true"==localInfo.isOpenSMSLogin&&$(".changeLoginType").css("visibility","visible");randomCodeObj.isGtRandomCode()||"true"!=localInfo.isOpenImgCode||$("#picAuthCode").addClass("user-input-tr");var e=$(".iframeAd iframe");""==e.attr("src")&&e.remove();"ka-ge"==window.languageCode&&"true"==localInfo.isNewCloudLoginPage?(A.attr("placeholder",rss_new.login_js_hwaccount_id),c.attr("placeholder",rss_new.login_js_password)):$.label(A,rss_new.login_js_hwaccount_id).label(c,rss_new.login_js_password);$.label(d,rss_new.registerbyphone_js_codelength),$.label(u,rss_new.login_dialog_imgCode);var o=!1;0!=$("#login_userName").length&&"none"!=$("#login_userName").css("display")||(o=!0);var n=localInfo.rememberAccount;!o&&n&&(n=n.replace(/\"/g,""),$("#login_userName").val(n),$("#remember_name").prop("checked",!0),$("#remember_name_icon")&&$("#remember_name_icon").removeClass("tick-off-icon").addClass("tick-on-icon"),$(".login-checkbox").removeClass("off"),$(".login-checkbox").addClass("on"),$("#remember_name").prop("checked",!0));localInfo.extInfo&&"true"!=localInfo.isThirdLogin&&$("#login_userName").val(localInfo.extInfo);0<$("#randomCodeImg").length&&setTimeout(function(){$("#randomCodeImg")[0].onerror=function(){""!=this.src&&this.src.indexOf("authCodeImage")&&(this.style.width="45px",this.src=localInfo.randomCodeImgLoading)}},10);regKeyBoardEvent("13",function(){0==$("div[role='cancel']").length&&($("#login_userName").is(":hidden")&&!localInfo.isReReg?$("#btnSMSLogin").click():($("#btnLogin").click(),$("#login_userName").focusout()))},$(".loginEventForm input")),getCountryCallingCode(function(e){localInfo.countryRegions=[],localInfo.countryRegionsOrderByLetter=rebuildCountryRegions(e.orderByLetterMap,localInfo.countryRegions);for(var o=[],t=$.extend(!0,[],localInfo.countryRegions),n=0;n<localInfo.countryRegions.length;n++){var i={label:localInfo.countryRegions[n].label,value:n};o.push(i)}if($("#smsLoginCountryCodeDiv").searchDropList({items:o,defaultValue:localInfo.default_country_code,onChange:function(e,o){var n=t[e].value;$("#smsLoginCountryCodeDiv .select-text").attr({"data-regions":n.split(",")[0],"data-countrycode":n.split(",")[1],"data-countrysite":n.split(",")[2]}),$("#login_phoneNum").val().trim().length&&validator($("#login_phoneNum"))}}),function s(){var n=localInfo.urlCountryCode,t=function a(){var o="",e={reqClientType:localInfo.reqClientType};return casAjaxObj.getIPCountry(e,function(e){""!=e.countryCode&&(o=e.countryCode)},function(){},null,!1),o}(),i=getdefaultCountryByCurrentSiteID().split("-")[1];if(localInfo.countryRegions&&0<localInfo.countryRegions.length){var r=!1,e=localInfo.rememberAccount;if(e&&(e=e.replace(/\"/g,""),isNumber(e))){var o=y(e,localInfo.countryRegions);$("#smsLoginCountryCodeDiv .select-text").html(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]}),$("#smsLoginCountryCodeDiv input").val(o.value),$("#login_phoneNum").val(removePhoneCountryCode(e,o.value.split(",")[1].replace("+","00"))),$("#remember_smsName").prop("checked",!0),$("#remember_smsName_icon")&&$("#remember_smsName_icon").removeClass("tick-off-icon").addClass("tick-on-icon"),r=!0}n&&!r&&$.each(localInfo.countryRegions,function(e,o){if(n.toLowerCase()==o.value.split(",")[0])return $("#smsLoginCountryCodeDiv .select-text").html(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]}),$("#smsLoginCountryCodeDiv input").val(o.value),!(r=!0)}),t&&!r&&$.each(localInfo.countryRegions,function(e,o){if(t.toLowerCase()==o.value.split(",")[0])return $("#smsLoginCountryCodeDiv .select-text").html(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]}),$("#smsLoginCountryCodeDiv input").val(o.value),!(r=!0)}),i&&!r&&$.each(localInfo.countryRegions,function(e,o){if(i.toLowerCase()==o.value.split(",")[0])return $("#smsLoginCountryCodeDiv .select-text").html(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]}),$("#smsLoginCountryCodeDiv input").val(o.value),!(r=!0)})}1<=localInfo.countryRegions.length&&$("#chooseCountry").removeClass("hidden"),1<localInfo.countryRegions.length?$("#selectCountryImg").css("display",""):$("#selectCountryImg").css("display","none")}(),localInfo.extInfo&&isNumber(localInfo.extInfo)){var r=y(localInfo.extInfo,localInfo.countryRegions);$("#smsLoginCountryCodeDiv .select-text").html(r.label).attr({"data-regions":r.value.split(",")[0],"data-countrycode":r.value.split(",")[1],"data-countrysite":r.value.split(",")[2]}),$("#smsLoginCountryCodeDiv input").val(r.value),$("#login_phoneNum").val(removePhoneCountryCode(localInfo.extInfo,r.value.split(",")[1].replace("+","00")))}},!0),0==$(".third_login_tip span").length&&$(".third_login_tip .third_other_login").remove();if("1"==localInfo.isReReg){var t=$("#twicePhoneAccount").attr("data-attr");t=getExpressPhone(t),$("#twicePhoneAccount").text(t),$.label($("#twice_login_password"),rss_new.login_js_password),$.label($("#twiceRandomCode"),rss_new.securityCenter_input_authcode)}randomCodeObj.gtSuccessCallback=function(){localInfo.captchaRandomCode=ramdonCodeImgObj.getRandomCode(),"SMSLogin"==localInfo.currentPage?h():login()}}()},initEvent:function(){!function e(){$(".rember").click(function(){$(".login-checkbox").hasClass("off")?($(".login-checkbox").removeClass("off"),$(".login-checkbox").addClass("on"),$("#remember_name").prop("checked",!0)):($(".login-checkbox").removeClass("on"),$(".login-checkbox").addClass("off"),$("#remember_name").prop("checked",!1))}),A.keyup(function(){var e=$(this);""!=e.val()&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())&&e.val("")}),l.keyup(function(){var e=$(this);""!=e.val()&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())&&e.val("")}),d.keyup(function(){var e=$(this);""!=e.val()&&/^[\s\S]*[\u4e00-\u9fa5]+[\s\S]*$/.test(e.val())&&e.val("")}),$(".cookie-pro").bind("click",function(){window.open(localInfo.cookiePrivacyPolicyUrl,"_blank")}),$(window).bind("load",function(){setTimeout(function(){$("#randomCodeImg")[0]&&-1!=$("#randomCodeImg")[0].src.indexOf("loading.gif")&&P()},200)}),$(document).on("click","#btnLogin,#btnSMSLogin",function(){if(localInfo.authDialog=null,"accountLogin"==$(this).data("type")){if(localInfo.userAccount=A.val().trim(),localInfo.passWord=c.val(),!localInfo.isThirdBind&&randomCodeObj.isGtRandomCode()&&localInfo.isNeedImageCode&&$("#captcha1").length<=0)return void getCaptcha();if($("#btnLogin").hasClass("disabled"))return!1;var e=$("#loginform")[0];if(!validator(e,!0))return!1;if(localInfo.isNeedImageCode&&0<$("#captcha1").length&&randomCodeObj.isGtRandomCode())return g("allClean"),void randomCodeObj.homeCaptcha($(this));if(0<$("#captcha1").length&&!getRandomCode()&&randomCodeObj.isGtRandomCode())return g("allClean"),randomCodeObj.homeCaptcha($(this)),!1;$("#btnLogin").blur(),login()}else if("smsLogin"==$(this).data("type")){var e=$(".smsLogin-form")[0];if(!validator(e,!0))return!1;$("#btnSMSLogin").blur(),x()}}),$(document).on("focusout","#login_userName",function(){if(!(0<$(".global_dialog_confirm_content").length)){var n=convPlusOfPhoneAccount($(this).val().trim());n&&(localInfo.querySiteTimeOut=setTimeout(function(){m(n,function(e){if(e.siteInfoList&&1<e.siteInfoList.length)T(n,e.siteInfoList,1,{},$("#login_userName")),"undefined"!=typeof captchaObj&&captchaObj.hide instanceof Function&&setTimeout(function(){captchaObj.hide(),localInfo.isNeedImageCode&&getCaptcha()},300);else if(e.siteInfoList&&0==e.siteInfoList.length){var o=e.errorCode;"10000507"==o&&(E(),"undefined"!=typeof captchaObj&&captchaObj.hide instanceof Function&&setTimeout(function(){captchaObj.hide(),localInfo.isNeedImageCode&&getCaptcha()},300))}else e.siteInfoList&&1==e.siteInfoList.length&&(D(e.crossSiteModel,e.redirectSiteUrl,e.extInfo),"undefined"!=typeof captchaObj&&captchaObj.hide instanceof Function&&"2"==e.crossSiteModel&&setTimeout(function(){captchaObj.hide(),localInfo.isNeedImageCode&&getCaptcha()},300))},!0)},300))}}),$(document).on("change","#login_userName",function(){localInfo.isSelectTwicePhoneAccount=!1,localInfo.userPhoneAccount="",localInfo.norCrossModel=undefined}),$(".form-edit-area").on("change","#remember_name,#remember_smsName",function(e){var o=$(this),n=o.next().find(".checkBox-icon");o.prop("checked")?n&&n.removeClass("tick-off-icon").addClass("tick-on-icon"):n&&n.removeClass("tick-on-icon").addClass("tick-off-icon")}),$(".form-edit-area").on("mouseover mouseout","#rememberNameSpan,#sms-rememberNameSpan",function(e){if("mouseover"==e.type){var o='<div class="bubble-tip-content"><div class="bubble-tip"><div class="bubble-tip-img bubble-tip-left-top"></div><div class="bubble-tip-img bubble-tip-right-top"></div><div class="bubble-tip-img bubble-tip-top"></div><div class="bubble-tip-img bubble-tip-left"></div><div class="bubble-tip-img bubble-tip-right"></div><div class="bubble-tip-center l">'+rss_new.remeber_account_tip+'</div><div class="bubble-tip-img bubble-tip-left-bottom"></div><div class="bubble-tip-img bubble-tip-right-bottom"></div><div class="bubble-tip-img bubble-tip-underline"></div><div class="bubble-tip-img bubble-tip-bottomArrow"></div></div></div>';$(this).next().html(o).show(),$(".bubble-tip-content").find(".bubble-tip-left,.bubble-tip-right").css("height",$(".bubble-tip-content").find(".bubble-tip-center").height()+"px")}else"mouseout"==e.type&&$(this).next().html("").hide()}),$(".changeLoginType").on("click",function(){if(!$(this).hasClass("disable")){localInfo.querySiteTimeOut&&clearTimeout(localInfo.querySiteTimeOut);var e=$(this).data("type");!function t(e){if("userAccountLogin"==e){var o=convPlusOfPhoneAccount($("#login_userName").val().trim());if(o&&isNumber(o)){var n=y(o,localInfo.countryRegions);$("#smsLoginCountryCodeDiv .select-text").html(n.label).attr({"data-regions":n.value.split(",")[0],"data-countrycode":n.value.split(",")[1],"data-countrysite":n.value.split(",")[2]}),$("#smsLoginCountryCodeDiv input").val(n.value),$("#login_phoneNum").val(removePhoneCountryCode(o,n.value.split(",")[1].replace("+","00")))}}else if("smsValidateLogin"==e){var o=getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode")));o&&isNumber(o)&&$("#login_userName").val(o)}}(e),"userAccountLogin"==e?(analysisHealth({operType:20,event:"LOGIN_CLICK_SMS_LOGIN"}),$(".reRegLogin").hide(),localInfo.isReReg=0,$(".userAccountLogin").hide(),$(".smsValidateLogin").show(),randomCodeObj.isGtRandomCode()&&(localInfo.currentPage="SMSLogin",localInfo.geetestOperType="1",0<$("#captcha1").length&&0<$(".geetest_panel.geetest_wind").length&&($(".geetest_panel.geetest_wind").remove(),randomCodeObj.gtLoadReady=!1)),$("#login_phoneNum").focus(),_()):"smsValidateLogin"==e?($(".reRegLogin").hide(),localInfo.isReReg=0,$(".smsValidateLogin").hide(),$(".userAccountLogin").show(),randomCodeObj.isGtRandomCode()&&(localInfo.currentPage="pwdLogin",localInfo.geetestOperType="",0<$("#captcha1").length&&($(".geetest_panel.geetest_wind").remove(),registerRandomCode())),$("#login_userName").focus()):"avatarLogin"==e&&(localInfo.isReReg=0,$(".reRegLogin").hide(),$(".smsValidateLogin").hide(),$(".userAccountLogin").show(),randomCodeObj.isGtRandomCode()&&(localInfo.currentPage="pwdLogin",localInfo.geetestOperType="",0<$("#captcha1").length&&($(".geetest_panel.geetest_wind").remove(),registerRandomCode())),$("#login_userName").focus())}}),$("#getSmsRandomCode").on("click",function(e){return!$("#getSmsRandomCode").hasClass("btnUnable")&&!$("#getSmsRandomCode").attr("disabled")&&(!!validator($("#login_phoneNum"),!0)&&(!(!randomCodeObj.isGtRandomCode()&&!validator($("#smsRandomCode"),!0))&&(g("allClean"),void function t(){var o,n;if(m(getPhoneNumber($("#login_phoneNum").val().trim(),convPlusOfPhoneAccount($("#smsLoginCountryCodeDiv .select-text").attr("data-countrycode"))),function(e){o=e.crossSiteModel,1==e.isSuccess?(localInfo.accBelongSite=e.siteInfoList[0].siteID,n=e.isNeedImageCode,2==o&&D(2,e.redirectSiteUrl,localInfo.extInfo)):"10002083"==e.errorCode&&R(rss_new.uc_error_10000001,"loginErr")},!1,!0,"11"),2==o)return;randomCodeObj.isGtRandomCode()&&n?(localInfo.currentPage="SMSLogin",($("#captcha1").length<=0||randomCodeObj.isGtRandomCode()&&$(".geetest_panel.geetest_wind").length<=0)&&(randomCodeObj.gtLoadReady=!1,getCaptcha()),randomCodeObj.homeCaptcha($("#btnSMSLogin"))):h()}())))}),$("#btn-more").on("click",function(e){var o=$("#more_list");"none"==o.css("display")?o.show():o.hide(),e.stopPropagation()}),$("#loginform").on("click",function(){var e=$("#more_list");"none"!=e.css("display")&&e.hide(),0<$("#selectCountryRegionDiv .countryCodeBox").length&&$("#selectCountryRegionDiv").html("")}),$("#goSecurity").on("click",function(){window.top.location.href=localHttps_AMW+"/portal/securitycenter/securityCenter.html"+localInfo.queryString}),$("#goConFaq").on("click",function(){window.top.location.href=localInfo.faqLink}),$("#appealLink").on("click",function(){window.top.location.href=localHttps_AMW+"/portal/appealSelf/applyChangeAccount.html"+localInfo.queryString}),$(".regBtn").click(function(){C(localInfo.regseterLink)}),$(".forgetPwd").click(function(){C(localInfo.findPwd+localInfo.urlQurey)}),$("#center").on({mouseover:function(){$("#soft_center_nav").addClass("cur_img_up"),$("#soft_center_nav").removeClass("cur_img_down"),$("#soft-center").show()},mouseout:function(){$("#soft_center_nav").addClass("cur_img_down"),$("#soft_center_nav").removeClass("cur_img_up"),$("#soft-center").hide()}}),$("#languagetipId").on({mouseover:function(){$("#language-imgID").addClass("language-img_up"),$("#language-imgID").removeClass("language-img_down"),$("#language_list").show()},mouseout:function(){$("#language-imgID").addClass("language-img_down"),$("#language-imgID").removeClass("language-img_up"),$("#language_list").hide()}})}()}},$(function(){(new e).init()}),window.login=function(i,r){if(!$("#btnLogin").hasClass("logining")){localInfo.userAccount=$("#login_userName").val().trim();var a={loginUrl:localInfo.loginUrl,service:localInfo.service,loginChannel:localInfo.loginChannel,reqClientType:localInfo.reqClientType,lang:localInfo.lang,userAccount:convPlusOfPhoneAccount(localInfo.userAccount),password:localInfo.passWord,quickAuth:localInfo.quickAuth,isThirdBind:localInfo.isThirdBind==undefined?0:localInfo.isThirdBind,hwmeta:$("#hwmeta").val(),fromCloud:localInfo.fromCloud,lowLogin:localInfo.lowLogin};if("1"==localInfo.isReReg){var e=$("#twicePhoneAccount").attr("data-attr");a.userAccount=e,a.anonymousLoginID=localInfo.loginID,a.password=$("#twice_login_password").val(),a.registerCountry=localInfo.rCY||""}localInfo.isSelectTwicePhoneAccount&&(a.anonymousLoginID=a.userAccount,a.userAccount=localInfo.userPhoneAccount,a.registerCountry=localInfo.registerCountry||""),i&&i.hasOwnProperty("keepOtherDevLogon")&&(a.keepOtherDevLogon=i.keepOtherDevLogon);var o=localInfo.norCrossModel,n=1;if(o==undefined){if(m(a.userAccount,function(e){1!=e.isSuccess&&"10000004"!=e.errorCode&&R(rss_new.uc_error_10000001,"loginErr"),n=e.existAccountFlag,localInfo.isClickedLogin=1<n,localInfo.clickCaptcha=!0,randomCodeObj.gtReadyCallback=function(){if(localInfo.clickCaptcha){var e="1"==localInfo.isReReg?$(".reRegLogin .button-login"):$("#btnLogin");return randomCodeObj.homeCaptcha(e),void(localInfo.clickCaptcha=!1)}}},!1,!0),localInfo.chkRiskFail||1<n)return;o=localInfo.norCrossModel}if(1!=localInfo.popStep&&2!=localInfo.popStep)if(localInfo.isNeedImageCode&&"function"==typeof getRandomCode&&(localInfo.captchaRandomCode=getRandomCode()),2==o&&localInfo.isThirdBind)M();else if(2!=o){0<$("#remember_name").length?$("#remember_name").prop("checked")?a.remember_name="on":a.remember_name="off":localInfo.rememberAccount?a.remember_name="on":a.remember_name="off";localInfo.isNeedImageCode&&(a.authcode=localInfo.captchaRandomCode,"1"!=localInfo.isReReg||randomCodeObj.isGtRandomCode()||(a.authcode=$("#twiceRandomCode").val().trim())),i&&i.remember_client_flag&&(a.remember_client_flag=i.remember_client_flag),i&&i.agrIDs&&(a.agrIDs=i.agrIDs),i&&i.guardianUserID&&(a.guardianUserID=i.guardianUserID),i&&i.guardianPwd&&(a.guardianPassword=i.guardianPwd),i&&i.newPassword&&(a.newPassword=i.newPassword),i&&i.opType&&(a.opType=i.opType),i&&i.authcode&&(a.authcode=i.authcode),i&&i.twoStepVerifyCode&&(a.twoStepVerifyCode=i.twoStepVerifyCode,a.verifyAccountType=i.verifyAccountType,a.verifyUserAccount=i.verifyUserAccount),i&&i.tipsSceneID&&(a.tipsSceneID=i.tipsSceneID),14==a.opType&&(a.forceBindSecAccount=(i||{}).forceBindSecAccount,a.forceBindSecAccountAuthCode=(i||{}).forceBindSecAccountAuthCode),15==a.opType&&(a.forceChangePhone=(i||{}).forceChangePhone,a.forceChangePhoneAuthCode=(i||{}).forceChangePhoneAuthCode),16==a.opType&&(a.birthday=(i||{}).birthday),g("allClean"),$("#btnLogin").addClass("logining"),6==a.opType||9==a.opType?casAjaxObj.riskLogin(a,t,s,{},!1):casAjaxObj.remoteLogin(a,t,s,{},!1)}else D(2,localInfo.redirectSiteUrl,localInfo.extInfo)}function t(e){localInfo.extInfo=e.extInfo;var o=e.needPopTrust;e.pageToken&&(pageToken=e.pageToken);var n=e.needVerifyOrChangePhone,t={needVerifyOrChangePhone:n,verifyAccountList:e.verifyAccountList};if(o&&localInfo.authDialog)$(".global_dialog_confirm_main").hide(),v(function(){return $.isFunction(r)&&r(),$(".loginmask").show(),C(e.callbackURL),!1},t);else{if(!n)return $.isFunction(r)&&r(),$(".loginmask").show(),C(e.callbackURL),!1;$(".global_dialog_confirm_main").hide(),popVerifyOrChangeMobilePhone(t,function(){return $.isFunction(r)&&r(),$(".loginmask").show(),"true"==localInfo.lowLogin?C(e.callbackURL):gotoUrl(localHttps+"/remoteLogin"+localInfo.queryString),!1})}}function s(e,o){if($("#btnLogin").removeClass("logining"),o.errorDesc&&isJSONStr(o.errorDesc)){var n=$.parseJSON(o.errorDesc);localInfo.extInfo=n.extInfo,n.pageToken&&(pageToken=n.pageToken)}p(e,o,a,r,i);try{hwcap&&hwcap.reload()}catch(t){}}},window.getSMSCodeV3=h,window.gotoresetpwd=function o(){window.top.location.href=localInfo.findPwd+localInfo.resetPwdLink},window.loginWebPage=e,window.gotoRegister=function n(){window.top.location.href=localInfo.regseterLink},window.popGotoPwdLogin=O,window.chgRandomCodeForLogin=P,window.showLoginErrorhide=g,window.showLoginError=R}(),function(h,f,e){var p,g,m,v,_;function y(e,o){e&&(authUserAccount=e,authAccountType=o,showAuthUserAccount=getExpressPhone(authUserAccount),h("#accountDiv").text(showAuthUserAccount),-1!=authUserAccount.indexOf("@")?h("#oldAuthCode").attr("placeholder",rss_new.registerbyphone_js_emailcodelength):h("#oldAuthCode").attr("placeholder",rss_new.registerbyphone_js_codelength))}function C(e){var o,n=e.account,t=e.phoneOrEmail,i=e.accountType,r=e.authCodebtn,a=(e.reqType,e.siteID),s=e.errorDiv;o=e.operType;var c;function l(){c.email?showMsgSuccess({obj:h("#authCodeError"),msg:rss_new.common_email_has_sendto.format(c.email),leftPix:"-220px",rightPix:"-220px",bottom:"27px"}):showMsgSuccess({obj:h("#authCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(c.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"27px"}),r.addClass("auth_code_grey"),jsInnerTimeout(r,rss_new.uc_common_resend)}function d(e){s&&s.addClass("input-error-EMUI5"),r.removeAttr("disabled"),h("#authCodeDiv").addClass("input-error-EMUI5"),h("#msg_error_auth").html(e)}l=e.getAuthCodeSuccessFn||l,d=e.getAuthCodeFailFn||d,r.attr("disabled"),-1!=t.indexOf("@")?(c={userAccount:n,accountType:i,reqClientType:localInfo.reqClientType,emailReqType:6,operType:o,email:t,siteID:a,languageCode:localInfo.lang},casAjaxObj.getEMailAuthCode(c,l,d)):(c={accountType:i,userAccount:n,reqClientType:localInfo.reqClientType,mobilePhone:t,operType:o,loginChannel:localInfo.loginChannel,smsReqType:6,siteID:a,languageCode:localInfo.lang},casAjaxObj.getSMSCodeV3(c,l,d))}function n(e,o,n,t){if("11"==e.opType)var i={userAccount:e.mobilePhone,smsAuthCode:e.smsAuthCode,authCode:e.authCode,operType:"11",reqClientType:localInfo.reqClientType,loginChannel:localInfo.loginChannel,lang:localInfo.lang,service:localInfo.service,quickAuth:localInfo.quickAuth};else{i={userAccount:e.userAccount,password:e.password,operType:1,reqClientType:localInfo.reqClientType};if(localInfo.isSelectTwicePhoneAccount&&(i.userAccount=localInfo.userPhoneAccount),"1"===localInfo.isReReg){var r=h("#twicePhoneAccount").attr("data-attr");i.userAccount=r,i.password=h("#twice_login_password").val()}}casAjaxObj.agreeCrossSiteAgrs(i,function(e){n({authcode:o}),null!=t&&t.hide()},function(e,o){h("#crossSite_errDiv").html(e)})}function u(n,e,r,o,t){getAccountType(n);var i,a,s=rss_new.send_seccode_to_sec,c='<div class="uc-line" style="padding:0"><div></div></div>',l="",d={title:rss_new.no_receive_security_code,btnRight:{text:rss_new.common_cancel,fn:function(){this.hide(),r()}},cancelFn:function(){this.hide(),r()},dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){(i=this).$dialog.find(".global_dialog_confirm_content,.global_dialog_alert_content").css("padding-top","0px"),h("#canNotUseSecAccount").find("a").text(rss_new.resetPwd_inputSecAuthCode_unableUsePhone),h("#canNotUseSecAccount").find("a").text(rss_new.resetPwd_inputSecAuthCode_unableUseEmail);var i=this,e=h("#howtodo").html();h("#howtodo").parent().append("<a class='a-EMUI5 howtodo' >"+e+"</a>"),h("#howtodo").remove(),h(".howtodo").click(function(){f.open(localInfo.secCodeAndSecondLoginFaqUrl)}),h("#resend").click(function(){!function e(n){!function t(e,o,n){casAjaxObj.getSecurityCode(e,function(e){o(e.authCodeSentList)},function(e,o){n.hide(),"70001105"==o.errorCode?w(rss_new.send_code_too_many_times,e,n):w(rss_new.common_hint,e,n)})}({reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,accountType:m,userAccount:g,password:p,operType:v},function(e){var o=[];1<=e.length&&o.push({type:-1,account:htmlencode(e[0].name)}),2<=e.length&&o.push({type:-1,account:htmlencode(e[1].name)}),n.hide(),r(o)},n)}(i)}),h(".account-line").click(function(){var e=h(this),o={authCodebtn:h("#getAuthCodeBtn")};o.errorDiv=h("#authCodeDiv"),o.account=n,o.accountType=m,o.siteID=t,o.errorTip=h("#msg_error_auth"),o.operType=_||8,o.phoneOrEmail=e.attr("account"),o.getAuthCodeSuccessFn=function(){i.hide(),r([{type:e.attr("type"),account:e.attr("account")}])},o.getAuthCodeFailFn=function(e,o){i.hide();var n=o.errorCode,t=rss_new.uc_common_hint;"70001102"==n&&"70001104"==n&&(e=rss_new.send_code_too_many_times),w(t,e,i)},C(o)}),addItemActive(h(".dialog-line"),"dialog-line-active","dialog-line-disabled"),addItemActive(h(".a-EMUI5"),"a-EMUI5-active")}};a="<div class='dialog-line ' id='resend' type='-1'> <span class='item-name item-left l'>"+rss_new.send_to_device+"</span><div class='item-right '><span class='info-value item-forward' ></span></div></div>"+c,h.each(e,function(e,o){-1!=o.accountType&&(l+='<div class="dialog-line account-line" account= "'+o.name+'" type="'+o.accountType+'"><span class="item-name item-left l">'+s.format(o.name)+'</span><div class="item-right "><span class="info-value item-forward" ></span></div></div>'+c)});var u="<div class='margin-t16-b16'><div>"+rss_new.offline_device_problem+"</div><div>"+rss_new.getcode_onoffline+"</div></div>"+getAppealChangesLinkDiv(e);i=a+l+""+u,d.html=i,h("<div>").Dialog(d).Dialog("show"),h(".global_dialog_confirm_content").css("padding-bottom","0px")}var w=function(e,o,n){var t="";t+="<div>"+o+"</div>",t+='<div style="width:100%;height:16px;"></div>',h("<div/>").Dialog({title:e,btnLeft:!1,btnRight:{text:rss_new.common_I_know,fn:function(){this.hide(),n.show()}},html:t,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){}}).Dialog("show")};function s(i){var e='<div id="forceBindPhoneDialog"><div class="dinput-UI5 marginTop16" id="forceBindPhoneNumDiv"><div class="l inputLeft"><div id="forceBindLangCode"></div></div><div class="input-div" id="forceBindPhoneInputDiv"><input class="input-number" type="text" id="forceBindPhoneNum" name="phone" maxlength="20" /></div></div><div id="forceBindPhoneErrInfo"></div><div class="dinput-UI5 marginTop16" id="getForceBindAuthCodeDiv"><div class="getAuthbtn" id="getForceBindAuthCodeBtn" IntervalTime="60" ><span class="getAuthText">'+rss_new.common_getsmscode+'</span><div id="getForceBindAuthCodeError"></div></div><div class="input-div"><input maxlength="8" id="forceBindPhoneAuthCode" type="text"></div></div><div id="forceBind_auth_error_tip" ></div></div>';getCountryCallingCode(function(e){if(localInfo.curAcctCountryRegions=[],localInfo.curAcctCountryRegionsOrderByLetter=rebuildCountryRegions(e.orderByLetterMap,localInfo.curAcctCountryRegions),h("#forceBindLangCode").DropListEMUI5({items:localInfo.curAcctCountryRegions,defaultValue:localInfo.default_country_code,onChange:function(e,o){h("#forceBindLangCode .select-text").attr({"data-regions":e.split(",")[0],"data-countrycode":e.split(",")[1],"data-countrysite":e.split(",")[2]})}}),isJSONStr(i.errorDesc,"errorDescObj")){var n=!1;if(h.each(localInfo.curAcctCountryRegions,function(e,o){if(o.value.split(",")[0]==localInfo.errorDescObj.AcctNationalCode)return h("#forceBindLangCode .select-text").html(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]}),!(n=!0)}),!n&&localInfo.urlCountryCode&&h.each(localInfo.curAcctCountryRegions,function(e,o){if(o.value.split(",")[0]==localInfo.urlCountryCode)return h("#forceBindLangCode .select-text").html(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]}),!(n=!0)}),!n){var o=h("#forceBindLangCode>input").val();h("#forceBindLangCode .select-text").attr({"data-regions":o.split(",")[0],"data-countrycode":o.split(",")[1],"data-countrysite":o.split(",")[2]})}}else 0<localInfo.curAcctCountryRegions.length&&h("#forceBindLangCode .select-text").text(localInfo.curAcctCountryRegions[0].label).attr({"data-regions":localInfo.curAcctCountryRegions[0].value.split(",")[0],"data-countrycode":localInfo.curAcctCountryRegions[0].value.split(",")[1],"data-countrysite":localInfo.curAcctCountryRegions[0].value.split(",")[2]})},!1);var o=h(".global_dialog_confirm_main"),n={title:rss_new.login_bind_new_phone,btnRight:{text:rss_new.box_js_confirm,fn:function(){var e=this;if(!validator(h("#forceBindPhoneDialog #forceBindPhoneNum"),!0)||!validator(h("#forceBindPhoneDialog #forceBindPhoneAuthCode"),!0))return!1;var o=getPhoneNumber(h("#forceBindPhoneDialog #forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(h("#forceBindPhoneDialog .select-text").attr("data-countrycode"))),n={opType:"15",forceChangePhone:o,forceChangePhoneAuthCode:h("#forceBindPhoneDialog #forceBindPhoneAuthCode").val()},t={accountType:2,userAccount:o,reqClientType:localInfo.reqClientType,authCode:n.forceChangePhoneAuthCode,countryCode:localInfo.urlCountryCode||localInfo.errorDescObj.AcctNationalCode,operType:33,lang:localInfo.lang,siteID:localInfo.curAccountSiteID};b(t,function(){i.callbackFn(n,function(){e.hide()})},function(e,o){var n,t;n=e,"70006007"==(t=o.errorCode)||"70002002"==t||"70002100"==t||"10012077"==t?r(n,h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv")):"70002057"==t||"70002058"==t||"70002039"==t?r(n,h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv")):r(n,h("#forceBind_auth_error_tip"))},function(){e.hide()})}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){!function o(e){h("<div/>").Dialog({btnRight:{text:rss_new.login_bind_contine,fn:function(){s(e)}},btnLeft:{text:rss_new.login_bind_cancel,fn:function(){e.abandonForceChangePhoneFn instanceof Function&&e.abandonForceChangePhoneFn()}},html:'<div style="margin:36px 0;">'+rss_new.login_bind_cancel_tip+"</div>"}).Dialog("show")}(i)}},html:e,beforeAction:function(){var e=this,o=h("#forceBindPhoneNum"),n=h("#forceBindPhoneAuthCode");e.disabled(),h.label(o,rss_new.login_label_userPhone),validator.bind(o,{type:["require","phoneNumber"],validOnChange:!0,countryCode:"#forceBindLangCode .select-text",errorFunction:function(e,o){switch(o.type){case"require":r(rss_new.common_js_emptyphone,h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv"));break;case"phoneNumber":r(rss_new.common_js_error,h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv"))}},successFunction:function(){},reInputFunction:function(){t(h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv")),a(e)}}),h.label(n,rss_new.registerbyphone_js_codelength),validator.bind(n,{type:["require","length","number"],trim:!0,min:4,max:8,validOnChange:!0,errorFunction:function(e,o){switch(o.type){case"require":r(rss_new.forgetbyphone_inputsmscode,h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv"));break;case"length":case"number":r(rss_new.forgetbyphone_wrongsmscode,h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv"))}},successFunction:function(e,o){},reInputFunction:function(){t(h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv")),a(e)}}),h("#getForceBindAuthCodeBtn").on("click",function(){if(!validator(h("#forceBindPhoneInputDiv"),!0))return!1;if(h("#getForceBindAuthCodeBtn").attr("disabled"))return!1;var e=getPhoneNumber(h("#forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(h("#forceBindPhoneDialog .select-text").attr("data-countrycode"))),o={userAccount:e,mobilePhone:e,accountType:"2",smsReqType:"3",reqClientType:localInfo.reqClientType,loginChannel:localInfo.loginChannel,languageCode:localInfo.lang,operType:15,siteID:localInfo.userSiteID||localInfo.curAccountSiteID},n=h("#getForceBindAuthCodeBtn");o.userAccount=localInfo.userPhoneAccount||localInfo.userAccount,o.accountType=localInfo.userPhoneAccount?o.accountType:"0",casAjaxObj.getSMSCodeV3(o,function t(e){n.attr("disabled"),showMsgSuccess({obj:h("#getForceBindAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(o.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"86px"}),n.addClass("auth_code_grey"),jsInnerTimeout(n,rss_new.uc_common_resend)},function i(e,o){n.removeAttr("disabled"),"70009032"==o.errorCode||"70002002"==o.errorCode?r(e,h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv")):r(e,h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv"))})})}};function r(e,o,n){o.html(e).addClass("error-tips-EMUI5"),n&&n.addClass("input-error-EMUI5")}function t(e,o){e.html("").removeClass("error-tips-EMUI5"),o&&o.removeClass("input-error-EMUI5")}function a(e){0<h("#forceBindPhoneNum").val().trim().length&&0<h("#forceBindPhoneAuthCode").val().trim().length?e.enable():e.disabled()}0<o.length&&(o.remove(),h(".global_black_overlay").remove()),h("<div>").Dialog(n).Dialog("show")}function b(e,o,n,t){casAjaxObj.chkReRegister(e,function i(e){e&&1==e.reRegisterFlag&&e.siteInfoList&&0<e.siteInfoList.length?(t(),function r(e,o,n){e=e||{};var t=h("#forceBindPhoneDialog #forceBindPhoneNum").val()&&getPhoneNumber(h("#forceBindPhoneDialog #forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(h("#forceBindPhoneDialog .select-text").attr("data-countrycode")))||h("#changeMobileNewAcc").val()&&getPhoneNumber(h("#changeMobileNewAcc").val().trim(),convPlusOfPhoneAccount(h("#changeMobileLangCode .select-text").attr("data-countrycode"))),i={userAccount:t,userAvatar:e.avatar,userNickName:e.nickName||"",userPhoneNum:t};h("<div/>").Dialog({title:rss_new.reg_again_title,titleUnderline:!1,btnRight:{text:rss_new.login_bind_change_contine,fn:function(){n()}},btnLeft:{text:rss_new.login_bind_change_cancel,fn:function(){this.hide()}},html:'<div class="normal-color reg-user-desc">'+rss_new.reg_again_content.format(i.userAccount)+'</div><div class="marginTop8 center reg-user-info"><div class="reg-avatar '+(i.userAvatar?"avatarCircle":"")+'"><img src="'+(i.userAvatar||localInfo.defaultAvatar)+'" alt="" onerror="this.src = localInfo.defaultAvatar;this.onerror = null;"/></div><div class="marginTop8 normal-color medium">'+i.userNickName+'</div><p class="marginTop8 font-desc">'+i.userPhoneNum+"</p></div>"}).Dialog("show")}(e.siteInfoList[0],e.regExtInfo,o)):e&&0==e.reRegisterFlag&&e.siteInfoList&&0<e.siteInfoList.length?n(rss_new.uc_error_70002002,{errorCode:70002002}):o()},function r(e,o){n(e,o)})}f.crossSiteIDDialog=function(o){var e="<div id='crossSite_content'>"+rss_new.new_cross_login_tip+"</div>";e+="<div id='crossSite_errDiv' style='margin-top:10px;font-size:12px;color:#ff3320'></div>",h("<div></div>").DialogSimple({text:e,btnText:rss_new.common_go_on,dialogStyle:localInfo.msgDialogStyle,btnFn:function(){if("11"==o.opType)var e={mobilePhone:o.mobilePhone,smsAuthCode:o.smsAuthCode,authCode:o.authCode,opType:o.opType};else e={userAccount:o.userAccount,password:o.password,opType:o.opType};n(e,o.authcode,o.callbackFn,this),this.hide()},btnLeftText:rss_new.uc_common_cancel,btnLeftFn:function(){},html:e}).show()},f.updatePWDDialog=function t(n){n.opType;var e="";function o(){var e=h("#newPassword"),o=h("#confirmPassword"),n=this;function t(){e.val()&&o.val()?n.enable():n.disabled()}this.disabled(),validator.bind(e,{type:["require","strLength","hasSpace","pwdComplexity","errorInput"],trim:!1,validOnChange:!0,compareTo:o,min:8,max:32,msg_ct:"#new_pwd_error_info",errorFunction:function(e,o){switch(h("#passwordDivTip").addClass("input-error-EMUI5"),o.type){case"require":h("#new_pwd_error_info").html(rss_new.common_js_inputpwd);break;case"strLength":h("#new_pwd_error_info").html(rss_new.reducePwd_format_2);break;case"hasSpace":h("#new_pwd_error_info").html(rss_new.reducePwd_format_1);break;case"pwdComplexity":h("#new_pwd_error_info").html(rss_new.reducePwd_format_3);break;case"errorInput":h("#new_pwd_error_info").html(rss_new.reducePwd_inputError_desc)}},successFunction:function(e,o){},reInputFunction:function(){h("#new_pwd_error_info").html(""),h("#passwordDivTip").removeClass("input-error-EMUI5")}}),validator.bind(o,{type:["require","eq"],trim:!1,validOnChange:!0,compareTo:e,msg_ct:"#confirm_pwd_error_info",errorFunction:function(e,o){switch(h("#confirmPasswordDiv").addClass("input-error-EMUI5"),o.type){case"require":h("#confirm_pwd_error_info").html(rss_new.common_confirm_newpassword);break;case"eq":h("#confirm_pwd_error_info").html(rss_new.reg_pwdnosame)}},successFunction:function(e,o){},reInputFunction:function(){h("#confirm_pwd_error_info").html(""),h("#confirmPasswordDiv").removeClass("input-error-EMUI5")}}),e.on("blur",function(){}).on("keyup",function(e){t()}),o.on("blur",function(){}).on("keyup",function(e){t()}),registerPwdformatValidator()}"1"!=n.tipsSceneID&&(e='<p id="authenDialog" class="resetPwd-subtitle" style="color:#191919">'+rss_new.risk_control_pwd+"</p>"),h("<div/>").Dialog({title:rss_new.common_set_newpassword,btnRight:{text:rss_new.common_ok,fn:function(){var e=this;if(!validator(h("#newPassword"),!0)||!validator(h("#confirmPassword"),!0))return!1;n.verifyID&&n.verifyself.hide();var o={newPassword:h("#newPassword").val(),opType:n.opType,keepOtherDevLogon:h("#stLogoutCheckbox").prop("checked")?0:1};n.twoStepVerifyCode&&(o.twoStepVerifyCode=n.twoStepVerifyCode,o.verifyUserAccount=n.verifyUserAccount,o.verifyAccountType=n.verifyAccountType),n.callbackFn(o,function(){e.hide()})}},btnLeft:{text:rss_new.common_cancel,fn:function(){}},beforeAction:function(){h("#pwdLength span").html(h("#pwdLength span").html().format(8)),h.label.defaults.ifRight="10px",h.label(h("#newPassword"),rss_new.common_set_newpassword),h.label(h("#confirmPassword"),rss_new.common_confirm_newpwd),o.call(this),h("#pwdPic").click(function(){"password"==document.getElementById("newPassword").type?(document.getElementById("newPassword").type="text",document.getElementById("confirmPassword").type="text",h("#pwdPic").attr("src",localInfo.eyeon)):(document.getElementById("newPassword").type="password",document.getElementById("confirmPassword").type="password",h("#pwdPic").attr("src",localInfo.eyeoff))}),o.call(this),h("#newPassword").keyup(function(){onPwdKeyUp4EMUI(this,h("#new_pwd_error_info"),h("#passwordDivTip"),"","input-error-EMUI5",!0,"",!0)}),h(".stLogoutConfirm").on("click","#stLogoutCheckbox",function(e){var o=h(this),n=o.next().find(".checkBox-icon");o.prop("checked")?n&&n.removeClass("tick-off-icon").addClass("tick-on-icon"):n&&n.removeClass("tick-on-icon").addClass("tick-off-icon")}),0<h("#st_faq_icon").length&&h("#st_faq_icon").hover(function(){h(".st_faq_position").show()},function(){h(".st_faq_position").hide()})},dialogStyle:localInfo.msgDialogStyle,html:e+'<div class="dinput-UI5" id="passwordDivTip"><div class="ico-div"><img class="eyeoff" id="pwdPic" src="'+localInfo.eyeoff+'"></div><div class="input-div"><input oncut="return false;" oncopy="return false" class="input-scroll" maxlength="32" id="newPassword" type="password"></div></div><div id="new_pwd_error_info" class="dinput-UI5-tip error-tips-EMUI5"></div><div class="dinput-UI5 confirmPwd" id="confirmPasswordDiv"><div class="input-div"><input oncut="return false;" oncopy="return false" class="input-scroll" id="confirmPassword" maxlength="32" type="password"></div></div><div id="confirm_pwd_error_info" class="dinput-UI5-tip error-tips-EMUI5"></div><div class="stLogoutConfirm"><input type="checkbox" class="checkbox vam" id="stLogoutCheckbox" name="stLogoutCheckbox" tabindex="4"><label for="stLogoutCheckbox"><i id="stLogoutCheckbox_icon" class="checkBox-icon marginR6 tick-off-icon"></i>'+rss_new.st_logout_tips+'</label><div class="st_faq_box position_rel"><span id="st_faq_icon"></span><div id="st_faq_des" class="st_faq_position"><span class="st_faq_arrow"></span>'+rss_new.st_logout_explain+'</div></div></div><div class="line-EMUI5 margin20-EMUI5"><div class="normal-tips-EMUI5 pwd-format-des-head">'+rss_new.reset_pwd_format_title+' </div><div id="pwdLength" class="gray-tips-EMUI5 "><img class="pwd-format l" src="'+localInfo.formatNo+'"><span>'+rss_new.reg_pwd_tip1+'</span></div><div id="pwdComplexity" class="gray-tips-EMUI5 "> <img class="pwd-format l" src="'+localInfo.formatNo+'"><span>'+rss_new.reg_pwd_tip2+'</span></div></div><div class="line8-EMUI5"><div class="normal-tips-EMUI5">'+rss_new.pwd_strength+'&nbsp;<span id="pwdComplexFlag"></span></div></div><div class="line8-EMUI5"><div class="gray-tips-EMUI5"><div class="pwd-complex" style="margin-bottom:8px;"><div id="pwdStong"></div></div></div><div style="margin-bottom:-8px;padding-left:8px">'+rss_new.uc_change_pwd_safe_tip+"</div></div>"}).Dialog("show")},f.authDialog=function(t){var e=t.accountInfoArr||[],o="",i=t.queryCond||"",r=t.optType,n=t.desc,a=(t.userAccount,t.opType,t.operType),s=t.reqType,c=t.siteID,l=t.tipsSceneID,d=t.userAccountType||getAccountType(i),u=t.btnLeftFn;authUserAccount=e[0].userAccount,authAccountType=e[0].accountType,showAuthUserAccount=getExpressPhone(authUserAccount),o+='<p class="inptips2" id="verifyIDdecs">'+n+"</p>",o+='<div style="width:100%;height:16px;"></div>',o+='<div class="line-EMUI5" style="margin-bottom:8px;">',o+='<div id="accountDiv" >'+showAuthUserAccount+"</div>",o+="</div>",o+='<div class="dinput-UI5" id="authCodeDiv">',o+='<div id="getAuthCodeBtn" class="getAuthbtn"  intervaltime="60"><a class="a-EMUI5 getAuthText">'+rss_new.uc_common_get_authcode+'</a><div id="authCodeError" class="left"></div></div>',o+='<div id="authCodeInput" class="input-div  clearfloat"><input type="tel"  id="oldAuthCode" ><p id="oldAuthCode_error_info"></p></div>',o+="</div>",o+='<div id="msg_error_auth" class="error-tips-EMUI5 " style=""></div>',o+=function p(e){return e.length<=1?'<div class="center marginT16">'+getAppealChangesLinkDiv(e)+"</div>":'<div id="otherAuth" class="center marginT16"><a href="javascript:void(0)" class="a-EMUI5">'+rss_new.appeal_select_other_way+"</a></div>"}(e);rss_new.enter_authcode_title;var f={title:rss_new.vertify_identity,uc:!0,btnRight:{text:1==l?rss_new.common_next:rss_new.common_ok,fn:function(){var e=this,o=(h("#accountDiv span").text().trim(),h("#oldAuthCode")[0]);if(!validator(o,!0))return!1;var n={twoStepVerifyCode:h("#oldAuthCode").val(),verifyUserAccount:authUserAccount,verifyAccountType:authAccountType,opType:1,dialog:e,tipsSceneID:l};t.callbackFn(n,function(){e.hide()})}},btnLeft:{text:t.lBtnTxt,fn:function(){"function"==typeof u&&u()}},html:o,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){var t=this;!function o(e,n,t){e.validator("bind",{type:["require","length","int"],trim:!0,validOnChange:!1,max:8,min:4,errorFunction:function(e,o){switch(h(t).addClass("input-error-EMUI5"),o.type){case"require":h(n).html(rss_new.common_js_inputcode);break;case"length":case"int":h(n).html(rss_new.common_wrong_authcode)}},successFunction:function(e,o){h(t).removeClass("input-error-EMUI5")},reInputFunction:function(){h(n).html(""),h(t).removeClass("input-error-EMUI5")}})}(h("#oldAuthCode"),"#msg_error_auth","#authCodeDiv"),y(authUserAccount,authAccountType),t.disabled(),h("#oldAuthCode").on("textchange",function(){if(h("#msg_error_auth").html(""),""!=h("#oldAuthCode").val().trim())return t.enable(),!1;t.disabled()}),h("#getAuthCodeBtn").on("click",function(e){if(h("#authCodeDiv").removeClass("input-error-EMUI5"),h("#msg_error_auth").html(""),h("#getAuthCodeBtn").attr("disabled"))return!1;var o=h("#accountDiv")[0];if(!validator(o,!0))return!1;var n={phoneOrEmail:authUserAccount,authCodebtn:h("#getAuthCodeBtn")};n.siteID=c,n.type=r,n.reqType=s,n.errorDiv=h("#authCodeDiv"),n.account=i,n.accountType=d,n.errorTip=h("#msg_error_auth"),n.operType=a||8,C(n)}),h("#otherAuth").click(function(){t.hide();var n=[];h.each(e,function(e,o){o.userAccount!=authUserAccount&&n.push(o)}),function a(e,o,t,n){var i="",r={title:rss_new.resetPwd_choose_other_verify_way,btnRight:{text:rss_new.uc_common_cancel,fn:function(){this.hide(),t()}},cancelFn:function(){this.hide(),t()},dialogStyle:n||localInfo.msgDialogStyle,beforeAction:function(){var n=this,n=this;addItemActive(h(".dialog-line"),"dialog-line-active","dialog-line-disabled"),addItemActive(h(".a-EMUI5"),"a-EMUI5-active"),h(".dialog-line").click(function(){n.hide();var e=h(this).data("useraccount"),o=h(this).data("accounttype");t(e,o)})}};h.each(e,function(e,o){i+='<div class="dialog-line" data-useraccount="'+o.userAccount+'" data-accounttype="'+o.accountType+'"><span class="item-name item-left l"><a class="a-EMUI5">'+rss_new.auth_dialog_send_to.format(o.userAccount)+'</a></span><div class="item-right"><span class="info-value item-forward" ></span></div></div><div class="uc-line" style="padding:0"><div></div></div>'}),i+="<div class='center marginT16'>"+o+"</a></div>",r.html=i,h("<div>").Dialog(r).Dialog("show"),h(".global_dialog_confirm_content").css("padding-top","0px")}(n,getAppealChangesLinkDiv(n),function(e,o){t.show(),y(e,o)})})}};localInfo.authDialog=h("<div>").Dialog(f).Dialog("show")},f.acctProtectV2Dialog=function(t){p=t.password,g=t.userAccount||"",m=g?t.userAccountType||getAccountType(g):"",_=t.operType;var o=1,e=t.siteID,r=-1,a=-1,n=rss_new.security_code_sent_des0,i=t.btnLeftFn;v=t.pageType;var s=0;h.each(t.authCodeSentList,function(e,o){o.name&&(o.name=htmlencode(o.name)),1==o.sent&&(1==++s?o.name:2==s&&o.name,r=o.accountType,a=o.name)});var c="<div id='sendCodeWayTip' style='margin-bottom:8px'>"+n+"</div>";function l(){var n="";return h(".securityCodeDiv").each(function(e,o){n+=h("input",h(this)).val()}),(6!=n.length||isNaN(1*n))&&(n=!1),n}c+='<div style="display:table;height:40px;width:100%;border-radius:20px" id="authCodeDiv" class="authCodeDivCom">',c+='<div id="num1" class="securityCodeDiv securityCodeHead"><input type="tel" maxlength="2" class="securityCodeInput" data-index="1"/></div>',c+='<div id="num2" class="securityCodeDiv securityCode"><input type="tel" maxlength="2" class="securityCodeInput" data-index="2"/></div>',c+='<div id="num3" class="securityCodeDiv securityCode"><input type="tel" maxlength="2" class="securityCodeInput" data-index="3"/></div>',c+='<div id="num4" class="securityCodeDiv securityCode"><input type="tel" maxlength="2" class="securityCodeInput" data-index="4"/></div>',c+='<div id="num5" class="securityCodeDiv securityCode"><input type="tel" maxlength="2" class="securityCodeInput" data-index="5"/></div>',c+='<div id="num6" class="securityCodeDiv securityCodeTail"><input type="tel" maxlength="2" class="securityCodeInput" data-index="6"/></div>',c+="</div>",c+='<div id="msg_error_auth" class="error-tips-EMUI5"></div>',c+='<div id="notRevice" style="width:100%;text-align: center;color: #007dff;margin: 20px auto;"><a class="a-EMUI5" style="font-size:14px">'+rss_new.auth_dialog_not_received+"</a></div>",localInfo.authDialog=h("<div/>").Dialog({title:rss_new.vertify_identity,btnLeft:{text:rss_new.common_cancel,fn:function(){"function"==typeof i&&i()}},btnRight:{text:rss_new.common_ok,fn:function(){var e=this,o=l();if(o){var n={twoStepVerifyCode:o,opType:1};n.verifyAccountType=r,n.verifyUserAccount=a,t.callbackFn(n,function(){e.hide()})}}},html:c,dialogStyle:localInfo.msgDialogStyle,beforeAction:function(){var i=this;i.disabled(),setTimeout(function(){h("#num1 input").focus()},0),h(".securityCodeInput").bind("keypress",function(e){(e=e||f.event).keyCode||e.which}),h(".securityCodeInput").bind("keyup",function(e){if((e=e||f.event).keyCode||e.which,h("#authCodeDiv").removeClass("input-error-EMUI5"),h("#msg_error_auth").html(""),""!=this.value){if(2==this.value.length){var o="";o=/^\d$/.test(this.value[1])?this.value[1]:this.value[0],this.value=o}/^\d$/.test(this.value)?function n(e){6<=(e*=1)||e++,h("#num"+e+" input").focus()}(h(this).data("index")):this.value="",l()?i.enable():i.disabled()}else!function t(e){1<(e*=1)&&e--,h("#num"+e+" input").focus()}(h(this).data("index"))}),h(".securityCodeDiv").click(function(){h("input",h(this)).focus()}),h("#notRevice a").click(function(){i.hide(),u(g,t.authCodeSentList,function(e){i.show(),e&&(o=e[0].type,r=e[0].type,a=e[0].account,-1==o?h("#sendCodeWayTip").html(rss_new.security_code_sent_des0):h("#sendCodeWayTip").html(rss_new.security_code_sent_des1.format(e[0].account)))},0,e)})}}).Dialog("show"),h(".global_dialog_confirm_content").css("padding-bottom","0px"),n&&""!=n&&h("#sendCodeWayTip").css("margin-bottom","10px")},f.sendVerifyCodeError=w,f.noReviceSecCodeDialog=u,f.agreeCrossSiteAgr=n,f.forceBindPhone=function c(n){var e='<div id="forceBindPhoneDialog"><div class="forceBindPhoneInfo">'+rss_new.forceBindPhone_content_info+'</div><div class="dinput-UI5 marginTop16" id="forceBindPhoneNumDiv"><div class="l inputLeft"><div id="forceBindLangCode"></div></div><div class="input-div" id="forceBindPhoneInputDiv"><input class="input-number" type="text" id="forceBindPhoneNum" name="phone" maxlength="20" /></div></div><div id="forceBindPhoneErrInfo"></div><div class="dinput-UI5 marginTop16" id="getForceBindAuthCodeDiv"><div class="getAuthbtn" id="getForceBindAuthCodeBtn" IntervalTime="60" ><span class="getAuthText">'+rss_new.common_getsmscode+'</span><div id="getForceBindAuthCodeError"></div></div><div class="input-div"><input maxlength="8" id="forceBindPhoneAuthCode" type="text"></div></div><div id="forceBind_auth_error_tip" ></div></div>';getCountryCallingCode(function(e){localInfo.curAcctCountryRegions=[],localInfo.curAcctCountryRegionsOrderByLetter=rebuildCountryRegions(e.orderByLetterMap,localInfo.curAcctCountryRegions),h("#forceBindLangCode").DropListEMUI5({items:localInfo.curAcctCountryRegions,defaultValue:localInfo.default_country_code,onChange:function(e,o){h("#forceBindLangCode .select-text").attr({"data-regions":e.split(",")[0],"data-countrycode":e.split(",")[1],"data-countrysite":e.split(",")[2]})}}),isJSONStr(n.errorDesc,"errorDescObj")?h.each(localInfo.curAcctCountryRegions,function(e,o){o.value.split(",")[0]==localInfo.errorDescObj.AcctNationalCode&&h("#forceBindLangCode .select-text").html(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]})}):0<localInfo.curAcctCountryRegions.length&&h("#forceBindLangCode .select-text").html(localInfo.curAcctCountryRegions[0].label).attr({"data-regions":localInfo.curAcctCountryRegions[0].value.split(",")[0],"data-countrycode":localInfo.curAcctCountryRegions[0].value.split(",")[1],"data-countrysite":localInfo.curAcctCountryRegions[0].value.split(",")[2]})},!1);var o=h(".global_dialog_confirm_main"),t={title:rss_new.forceBindPhone_title_addPhone,btnRight:{text:rss_new.box_js_confirm,fn:function(){var e=this;if(!validator(h("#forceBindPhoneDialog #forceBindPhoneNum"),!0)||!validator(h("#forceBindPhoneDialog #forceBindPhoneAuthCode"),!0))return!1;var o={opType:"14",forceBindSecAccount:getPhoneNumber(h("#forceBindPhoneDialog #forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(h("#forceBindPhoneDialog .select-text").attr("data-countrycode"))),forceBindSecAccountAuthCode:h("#forceBindPhoneDialog #forceBindPhoneAuthCode").val()};n.callbackFn(o,function(){e.hide()})}},html:e,beforeAction:function(){var e=this,o=h("#forceBindPhoneNum"),n=h("#forceBindPhoneAuthCode");e.disabled(),h.label(o,rss_new.login_label_userPhone),validator.bind(o,{type:["require","phoneNumber"],validOnChange:!0,countryCode:"#forceBindLangCode .select-text",errorFunction:function(e,o){switch(o.type){case"require":r(rss_new.common_js_emptyphone,h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv"));break;case"phoneNumber":r(rss_new.common_js_error,h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv"))}},successFunction:function(){},reInputFunction:function(){i(h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv")),a(e)}}),h.label(n,rss_new.registerbyphone_js_codelength),validator.bind(n,{type:["require","length","number"],trim:!0,min:4,max:8,validOnChange:!0,errorFunction:function(e,o){switch(o.type){case"require":r(rss_new.forgetbyphone_inputsmscode,h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv"));break;case"length":case"number":r(rss_new.forgetbyphone_wrongsmscode,h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv"))}},successFunction:function(e,o){},reInputFunction:function(){i(h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv")),a(e)}}),h("#getForceBindAuthCodeBtn").on("click",function(){if(!validator(h("#forceBindPhoneInputDiv"),!0))return!1;if(h("#getForceBindAuthCodeBtn").attr("disabled"))return!1;var e=getPhoneNumber(h("#forceBindPhoneNum").val().trim(),convPlusOfPhoneAccount(h("#forceBindPhoneDialog .select-text").attr("data-countrycode"))),o={userAccount:e,mobilePhone:e,accountType:"6",smsReqType:"3",reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,operType:"25"},n=h("#getForceBindAuthCodeBtn");casAjaxObj.getSMSAuthCode(o,function t(e){n.attr("disabled"),showMsgSuccess({obj:h("#getForceBindAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(o.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"86px"}),n.addClass("auth_code_grey"),jsInnerTimeout(n,rss_new.uc_common_resend)},function i(e,o){n.removeAttr("disabled"),"70009032"==o.errorCode?r(e,h("#forceBindPhoneErrInfo"),h("#forceBindPhoneNumDiv")):r(e,h("#forceBind_auth_error_tip"),h("#getForceBindAuthCodeDiv"))})})}};function r(e,o,n){o.html(e).addClass("error-tips-EMUI5"),n&&n.addClass("input-error-EMUI5")}function i(e,o){e.html("").removeClass("error-tips-EMUI5"),o&&o.removeClass("input-error-EMUI5")}function a(e){0<h("#forceBindPhoneNum").val().trim().length&&0<h("#forceBindPhoneAuthCode").val().trim().length?e.enable():e.disabled()}0<o.length&&(o.remove(),h(".global_black_overlay").remove()),h("<div>").Dialog(t).Dialog("show")},f.popVerifyOrChangeMobilePhone=function l(e,i){var o=e.verifyAccountList,r="",a="";e.verifyAccountList&&0<e.verifyAccountList.length&&(r=o[0].accountType,a=getExpressPhone(o[0].userAccount),localInfo.verifyAccountCountryCode=o[0].accountCountryCode);var n='<div id="verifyOrChangeMobilePhone"><div class="forceBindPhoneInfo" id="verifyIDdecs">'+rss_new.verifyOrChangeMobilePhone_content_info+'</div><div class="marginTop16 marginBottom8"><span id="verifyMobileAccount" class="nophonewrap userAccount">'+a+'</span></div><div class="dinput-UI5" id="getVerifyMobileAuthCodeDiv"><div class="getAuthbtn" id="getVerifyMobileAuthCodeBtn" IntervalTime="60" ><span class="getAuthText">'+rss_new.common_getsmscode+'</span><div id="verifyMobileAuthCodeError"></div></div><div class="input-div"><input maxlength="8" id="verifyMobileAuthCode" type="text"></div></div><div id="verifyMobileAuthErrTip" ></div><div class="center marginTop16">'+rss_new.inputSecAuthCode_cantUsePhone+'<span class="changeMobilePhonelink" id="changePhoneLink">'+rss_new.changeMobilePhone_label+"</span></div></div>",t={title:rss_new.resetPwd_varifyPhone,btnRight:{text:rss_new.box_js_confirm,fn:function(){if(!validator(h("#getVerifyMobileAuthCodeDiv"),!0))return!1;var e={accountType:r,userAccount:a,authCode:h("#verifyMobileAuthCode").val().trim(),authOprType:"3",reqClientType:localInfo.reqClientType,operType:"13"};casAjaxObj.chkAuthCode(e,i,function n(e,o){s(e,h("#verifyMobileAuthErrTip"),h("#getVerifyMobileAuthCodeDiv"))})}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){i()}},html:n,beforeAction:function(){var e=this,o=h("#verifyMobileAuthCode");h.label(o,rss_new.registerbyphone_js_codelength),validator.bind(o,{type:["require","length","number"],trim:!0,min:4,max:8,validOnChange:!0,errorFunction:function(e,o){switch(o.type){case"require":s(rss_new.forgetbyphone_inputsmscode,h("#verifyMobileAuthErrTip"),h("#getVerifyMobileAuthCodeDiv"));break;case"length":case"number":s(rss_new.forgetbyphone_wrongsmscode,h("#verifyMobileAuthErrTip"),h("#getVerifyMobileAuthCodeDiv"))}},successFunction:function(e,o){},reInputFunction:function(){!function n(e,o){e.html("").removeClass("error-tips-EMUI5"),o&&o.removeClass("input-error-EMUI5")}(h("#verifyMobileAuthErrTip"),h("#getVerifyMobileAuthCodeDiv"))}}),h("#getVerifyMobileAuthCodeBtn").on("click",function(){if(h("#getVerifyMobileAuthCodeBtn").attr("disabled"))return!1;var o={userAccount:a,mobilePhone:a,accountType:r,smsReqType:"3",reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,operType:"26"},n=h("#getVerifyMobileAuthCodeBtn");casAjaxObj.getSMSAuthCode(o,function t(e){n.attr("disabled"),showMsgSuccess({obj:h("#verifyMobileAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(o.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"32px"}),n.addClass("auth_code_grey"),jsInnerTimeout(n,rss_new.uc_common_resend)},function i(e,o){n.removeAttr("disabled"),s(e,h("#verifyMobileAuthErrTip"),h("#getVerifyMobileAuthCodeDiv"))})}),h(".changeMobilePhonelink").on("click",function(){e.hide(),function o(t){var e={accountType:r,userAccount:a,sceneID:"21",reqClientType:localInfo.reqClientType};casAjaxObj.chkSecurityRisk(e,function(e){var o={callback:i,dialog:t,riskfreeKey:isRiskfree(e.riskfreeKey),accountType:r,frequentlyDev:e.frequentlyDev};!function n(c){function l(r){var e='<div id="changeMobileDialog"><div class="dinput-UI5 userAccountDiv" id="changeMobilePhoneNumDiv"><div class="l inputLeft"><div id="changeMobileLangCode"></div></div><div class="input-div" id="changeMobileNewAccDiv"><input class="input-number" type="tel" id="changeMobileNewAcc" name="phone" maxlength="20"/></div></div><div id="changeMobileNewAccErrTip"></div><div class="dinput-UI5 authCodeDiv marginTop16" id="changeMobileNewAuthCodeDiv"><div class="getAuthbtn" id="getChangeMobileAuthCodeBtn" IntervalTime="60" ><span class="getAuthText">'+rss_new.common_getsmscode+'</span><div id="changeMobileAuthCodeError"></div></div><div class="input-div"><input maxlength="8" id="changeMobileAuthCode" type="text"></div></div><div id="changeMobileErrorTip" ></div></div>';getCountryCallingCode(function(e){localInfo.newAcctCountryRegions=[],localInfo.newAcctCountryRegionsOrderByLetter=rebuildCountryRegions(e.orderByLetterMap,localInfo.newAcctCountryRegions),h("#changeMobileLangCode").DropListEMUI5({items:localInfo.newAcctCountryRegions,defaultValue:localInfo.default_country_code,onChange:function(e,o){h("#changeMobileLangCode .select-text").text(o).attr({"data-regions":e.split(",")[0],"data-countrycode":e.split(",")[1],"data-countrysite":e.split(",")[2]})}}),localInfo.verifyAccountCountryCode&&h.each(localInfo.newAcctCountryRegions,function(e,o){o.value.split(",")[0]==localInfo.verifyAccountCountryCode&&h("#changeMobileLangCode .select-text").html(o.label).attr({"data-regions":o.value.split(",")[0],"data-countrycode":o.value.split(",")[1],"data-countrysite":o.value.split(",")[2]})})},!1);var o={title:"2"==r.accountType?rss_new.appeal_bind_newPhoneHeader:rss_new.uc_set_sec_phone_title,btnRight:{text:rss_new.box_js_confirm,fn:function(){var e=this;if(!validator(h("#changeMobileNewAccDiv"),!0)||!validator(h("#changeMobileNewAuthCodeDiv"),!0))return!1;var o={reqClientType:localInfo.reqClientType,frequentlyDev:r.frequentlyDev,newAccountType:r.accountType,newAuthCode:h("#changeMobileAuthCode").val().trim(),newUserAccount:getPhoneNumber(h("#changeMobileNewAcc").val().trim(),convPlusOfPhoneAccount(h("#changeMobileLangCode .select-text").attr("data-countrycode")))};c.riskfreeKey?(o.opType="5",o.oldAccountType=r.oldAccountType,o.oldAuthCode=r.oldAuthCode):o.opType="4";var n={70006007:rss_new.uc_error_70006007_1,70002100:rss_new.error_phone_secphone_not_same},t=function(e,o){var n=o.errorCode;"70006007"==n||"70002002"==n||"70002100"==n||"10012077"==n?d(e,h("#changeMobileNewAccErrTip"),h("#changeMobilePhoneNumDiv")):"70002057"==n||"70002058"==n||"70002039"==n?d(e,h("#changeMobileErrorTip"),h("#changeMobileNewAuthCodeDiv")):d(e,h("#changeMobileErrorTip"))};if("2"==r.accountType){var i={accountType:2,userAccount:o.newUserAccount,reqClientType:localInfo.reqClientType,authCode:o.newAuthCode,countryCode:localInfo.urlCountryCode||localInfo.verifyAccountCountryCode,operType:15,lang:localInfo.lang,siteID:localInfo.curAccountSiteID};b(i,function(){casAjaxObj.setPhoneEmail(o,function(e){r.callback()},function(e,o){t(e,o)},n)},function(e,o){t(e,o)},function(){e.hide()})}else casAjaxObj.setPhoneEmail(o,function(e){r.callback()},function(e,o){t(e,o)},n)}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){this.hide(),r.preDialog?r.preDialog.show():r.dialog.show()}},html:e,beforeAction:function(){var e=h("#changeMobileNewAcc"),o=h("#changeMobileAuthCode");h.label(e,rss_new.login_label_userPhone),validator.bind(e,{type:["require","phoneNumber"],validOnChange:!0,countryCode:"#changeMobileLangCode .select-text",errorFunction:function(e,o){switch(o.type){case"require":d(rss_new.common_js_emptyphone,h("#changeMobileNewAccErrTip"),h("#changeMobilePhoneNumDiv"));break;case"phoneNumber":d(rss_new.common_js_error,h("#changeMobileNewAccErrTip"),h("#changeMobilePhoneNumDiv"))}},successFunction:function(){},reInputFunction:function(){u(h("#changeMobileNewAccErrTip"),h("#changeMobilePhoneNumDiv"))}}),h.label(o,rss_new.registerbyphone_js_codelength),validator.bind(o,{type:["require","length","number"],trim:!0,min:4,max:8,validOnChange:!0,errorFunction:function(e,o){switch(o.type){case"require":d(rss_new.forgetbyphone_inputsmscode,h("#changeMobileErrorTip"),h("#changeMobileNewAuthCodeDiv"));break;case"length":case"number":d(rss_new.forgetbyphone_wrongsmscode,h("#changeMobileErrorTip"),h("#changeMobileNewAuthCodeDiv"))}},successFunction:function(e,o){},reInputFunction:function(){u(h("#changeMobileErrorTip"),h("#changeMobileNewAuthCodeDiv"))}}),h("#getChangeMobileAuthCodeBtn").on("click",function(){if(!validator(h("#changeMobileNewAccDiv"),!0))return!1;if(h("#getChangeMobileAuthCodeBtn").attr("disabled"))return!1;var e=getPhoneNumber(h("#changeMobileNewAcc").val().trim(),convPlusOfPhoneAccount(h("#changeMobileLangCode .select-text").attr("data-countrycode"))),o={userAccount:e,mobilePhone:e,accountType:r.accountType,smsReqType:"3",reqClientType:localInfo.reqClientType,languageCode:localInfo.lang,operType:"28"},t=h("#getChangeMobileAuthCodeBtn");if("2"==o.accountType){if(localInfo.userAccount==e||localInfo.userAccount==h("#changeMobileNewAcc").val().trim())return void d(rss_new.uc_common_phone_user_exists,h("#changeMobileNewAccErrTip"),h("#changeMobilePhoneNumDiv"));o.siteID=localInfo.curAccountSiteID,o.operType="16",o.loginChannel=localInfo.loginChannel,casAjaxObj.getSMSCodeV3(o,n,i)}else casAjaxObj.getSMSAuthCode(o,n,i);function n(e){t.attr("disabled"),showMsgSuccess({obj:h("#changeMobileAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(o.mobilePhone)),leftPix:"-220px",rightPix:"-220px",bottom:"36px"}),t.addClass("auth_code_grey"),jsInnerTimeout(t,rss_new.uc_common_resend)}function i(e,o){t.removeAttr("disabled");var n=o.errorCode;"70006007"==n||"70002002"==n||"70002100"==n||"10012077"==n?d(e,h("#changeMobileNewAccErrTip"),h("#changeMobilePhoneNumDiv")):d(e,h("#changeMobileErrorTip"),h("#changeMobileNewAuthCodeDiv"))}})}};h("<div>").Dialog(o).Dialog("show")}function d(e,o,n){o.html(e).addClass("error-tips-EMUI5"),n&&n.addClass("input-error-EMUI5")}function u(e,o){e.html("").removeClass("error-tips-EMUI5"),o&&o.removeClass("input-error-EMUI5")}c.riskfreeKey?function e(){casAjaxObj.get4FactorsList({sceneID:"21"},function(e){c.userAcctInfoList=e.userAcctInfoList,function s(e){var o=e.userAcctInfoList,i=getExpressPhone(o[0].userAccount),a=o[0].accountType,n="";n+='<div id="verifyIdentidy"><p class="inptips2" id="verifyIDdecs">'+rss_new.auth_dialog_des+"</p>",n+='<div style="width:100%;height:16px;"></div>',n+='<div class="line-EMUI5" style="margin-bottom:8px;">',n+='<div id="verifyIdAccountDiv" class="userAccount" data-type="'+a+'">'+i+"</div>",n+="</div>",n+='<div class="dinput-UI5 authCodeDivCom" id="verifyIdAuthCodeDiv">',n+='<div id="getVerifyIdAuthCodeBtn" class="getAuthbtn"  intervaltime="60"><a class="a-EMUI5 getAuthText">'+rss_new.uc_common_get_authcode+'</a><div id="verifyIdAuthCodeError" class="left"></div></div>',n+='<div id="verifyIdAuthCodeInput" class="input-div  clearfloat"><input type="tel"  id="verifyIdAuthCode" ><p id="verifyIdAuthCodeErrTip"></p></div>',n+="</div>",n+='<div id="verifyIdAuthCodeErrMsg"></div></div>',n+=function r(e){return e.length<=1?'<div class="center marginT16">'+getAppealChangesLinkDiv(e)+"</div>":'<div id="verifyIdOtherAuth" class="center marginT16"><a href="javascript:void(0)" class="a-EMUI5">'+rss_new.appeal_select_other_way+"</a></div>"}(o);var t={title:rss_new.vertify_identity,uc:!0,btnRight:{text:rss_new.box_js_confirm,fn:function(){var n=this;if(!validator(h("#verifyIdAuthCodeDiv"),!0))return!1;var t={userAccount:i,accountType:a,authOprType:"3",authCode:h("#verifyIdAuthCode").val().trim(),reqClientType:localInfo.reqClientType,operType:14};casAjaxObj.chkAuthCode(t,function(e){n.hide();var o=c;o.oldAccountType=t.accountType,o.oldAuthCode=t.authCode,o.preDialog=n,l(o)},function(e,o){d(e,h("#verifyIdAuthCodeErrMsg"),h("#verifyIdAuthCodeDiv"))})}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){this.hide(),e.dialog.show()}},html:n,dialogStyle:"dialog",beforeAction:function(){var t=this;t.disabled();var e=h("#verifyIdAuthCode");-1!=i.indexOf("@")?h.label(e,rss_new.registerbyphone_js_emailcodelength):h.label(e,rss_new.registerbyphone_js_codelength),validator.bind(e,{type:["require","length","number"],trim:!0,min:4,max:8,validOnChange:!0,errorFunction:function(e,o){switch(o.type){case"require":d(rss_new.forgetbyphone_inputsmscode,h("#verifyIdAuthCodeErrMsg"),h("#verifyIdAuthCodeDiv"));break;case"length":case"number":d(rss_new.common_js_wrongcode,h("#verifyIdAuthCodeErrMsg"),h("#verifyIdAuthCodeDiv"))}},successFunction:function(e,o){},reInputFunction:function(){""!=e.val().trim()?t.enable():t.disabled(),u(h("#verifyIdAuthCodeErrMsg"),h("#verifyIdAuthCodeDiv"))}}),h("#verifyIdOtherAuth").click(function(){t.hide();var n=[];h.each(o,function(e,o){o.userAccount!=i&&n.push(o)}),function r(e,o,t){var n="",i={title:rss_new.resetPwd_choose_other_verify_way,btnRight:{text:rss_new.uc_common_cancel,fn:function(){this.hide(),t()}},cancelFn:function(){this.hide(),t()},dialogStyle:"dialog",beforeAction:function(){var n=this;h(".dialog-line").click(function(){n.hide();var e=h(this).data("useraccount"),o=h(this).data("accounttype");t(e,o)})}};h.each(e,function(e,o){n+='<div class="dialog-line" data-useraccount="'+o.userAccount+'" data-accounttype="'+o.accountType+'"><span class="item-name item-left l"><a class="a-EMUI5">'+rss_new.auth_dialog_send_to.format(o.userAccount)+'</a></span><div class="item-right"><span class="info-value item-forward" ></span></div></div><div class="uc-line" style="padding:0"><div></div></div>'}),n+="<div class='center marginT16'>"+o+"</a></div>",i.html=n,h("<div>").Dialog(i).Dialog("show")}(n,getAppealChangesLinkDiv(n),function(e,o){t.show(),e&&(i=e,a=o,h("#verifyIdAccountDiv").text(getExpressPhone(i)).attr("data-type",o))})}),h("#getVerifyIdAuthCodeBtn").on("click",function(e){if(h("#getVerifyIdAuthCodeBtn").attr("disabled"))return!1;$btn=h("#getVerifyIdAuthCodeBtn");var o={languageCode:localInfo.lang,reqClientType:localInfo.reqClientType,operType:"27"},n={"default":rss_new.uc_error_70002030,10000001:rss_new.uc_error_10000001_1};"2"==a||"6"==a?(o.accountType=a,o.smsReqType="3",n[70001102]=rss_new.uc_error_70001102_1,n[70001104]=rss_new.uc_error_70001104_1,casAjaxObj.getSMSAuthCode(o,function(e){$btn.attr("disabled"),showMsgSuccess({obj:h("#verifyIdAuthCodeError"),msg:rss_new.uc_common_sms_has_sendto.format(getExpressPhone(i)),leftPix:"-220px",rightPix:"-220px",bottom:"32px"}),$btn.addClass("auth_code_grey"),jsInnerTimeout($btn,rss_new.uc_common_resend)},function(e,o){d(e,h("#verifyIdAuthCodeErrMsg"))})):(o.accountType=a,o.emailReqType="3",n[70001102]=rss_new.uc_error_70001102_0,n[70001104]=rss_new.uc_error_70001104_0,casAjaxObj.getEMailAuthCode(o,function(e){$btn.attr("disabled"),showMsgSuccess({obj:h("#verifyIdAuthCodeError"),msg:rss_new.uc_common_email_has_sendto.format(getExpressPhone(i)),leftPix:"-220px",rightPix:"-220px",bottom:"32px"}),$btn.addClass("auth_code_grey"),jsInnerTimeout($btn,rss_new.uc_common_resend)},function(e,o){d(e,h("#verifyIdAuthCodeErrMsg"))}))})}};h("<div></div>").Dialog(t).Dialog("show")}(c)},function(e){c.dialog.show(),h("#verifyMobileAuthErrTip").text(e).addClass("error-tips-EMUI5")})}():l(c)}(o)},function(e,o){t.show(),s(e,h("#verifyMobileAuthErrTip"))})}(e)})}};function s(e,o,n){o.html(e).addClass("error-tips-EMUI5"),n&&n.addClass("input-error-EMUI5")}h("<div>").Dialog(t).Dialog("show")},f.changePhoneAccount=s,f.popOldUserBind=function i(e){h(".global_dialog_confirm_main").remove(),h(".global_black_overlay").remove();var o=localInfo.userPhoneAccount;isJSONStr(e.errorDesc,"errorBindDescObj")&&(o=o||localInfo.errorBindDescObj.userAccount),h("<div/>").Dialog({title:rss_new.login_old_user_tip_title,titleUnderline:!1,btnRight:{text:rss_new.third_bind_submit,fn:function(){s(e)}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){e.abandonForceChangePhoneFn instanceof Function&&e.abandonForceChangePhoneFn()}},html:'<div style="margin-bottom:32px;"><p>'+rss_new.login_old_user_tip_content_1.format(getExpressPhone(o))+'</p><div class="marginTop8 reReg-list-row"><span class="p-left-img p-left"></span><p class="p-right">'+rss_new.login_old_user_tip_content_2.format(getExpressPhone(o))+'</div><div class="marginTop8 reReg-list-row"><span class="p-left-img p-left"></span><p class="p-right">'+rss_new.login_old_user_tip_content_3+"</div></div>"}).Dialog("show")},f.completeBirth=function r(n){var i,a,s,c,e='<div id="completeBirthDialog"><div class="completeBirthInfo">'+rss_new.login_completeBirth_content1+'</div><div class="birthDateBox"><div class="birthDateContent"><div id="birthDate" class="birthday-choose"></div></div><div id="birthdayError"></div></div></div>';c="true"==localInfo.hasLocalAgeLimit?(a=localInfo.ageLimit,s=localInfo.userID,localInfo.userName):(a=JSON.parse(n.errorDesc).ageLimit,s=JSON.parse(n.errorDesc).userID,JSON.parse(n.errorDesc).userName);var o=h(".global_dialog_confirm_main"),t={title:rss_new.login_completeBirth_title,html:e,btnRight:{text:rss_new.box_js_confirm,fn:function(){var e=this;if(l()){if(i<a)return e.hide(),void function r(e,o,n){var t='<div id="delChildUserDialog"><div class="delChildUserInfo">'+rss_new.login_childDelUser_content1+'</div><div class="delChildUserInfo marginTop8">'+rss_new.login_childDelUser_content2+"</div></div>",i={title:rss_new.login_childDelUser_title,html:t,btnRight:{text:rss_new.del_user,fn:function(){self===top?gotoUrl(localHttps_AMW+"/portal/delUser.html"+localInfo.queryString+"&userID="+e+"#userAccount="+o):f.top.location.href=XSSGuard4URL(localHttps_AMW+"/portal/delUser.html"+localInfo.queryString+"&userID="+e+"#userAccount="+o)}},btnLeft:{text:rss_new.uc_common_cancel,fn:function(){this.hide(),n.show()}},cancelFn:function(){this.hide(),n.show()},beforeAction:function(){}};h("<div>").Dialog(i).Dialog("show")}(s,c,e);var o={opType:"16",birthday:function t(){var e=h("#birthDate").datePickEMUI5("Y").toString(),o=h("#birthDate").datePickEMUI5("M").toString(),n=h("#birthDate").datePickEMUI5("D").toString();return 1==o.length&&(o="0"+o),1==n.length&&(n="0"+n),e+o+n}()};n.callbackFn(o,function(){e.hide()})}}},cancelFn:function(){"true"==localInfo.needGoLogin&&gotoUrl(localInfo.loginUrl)},beforeAction:function(){!function e(){h("#birthDate").datePickEMUI5({yearChange:function(){h("#birthdayError").text("").removeClass("birth-erropTips"),h("#birthDate").datePickEMUI5("M")&&h("#birthDate").datePickEMUI5("D")&&l()},monthChange:function(){h("#completeBirthDialog .monthDiv .select-text").removeClass("forcehide"),h("#birthdayError").text("").removeClass("birth-erropTips"),h("#birthDate").datePickEMUI5("Y")&&h("#birthDate").datePickEMUI5("D")&&l()},dayChange:function(){h("#completeBirthDialog .dayDiv .select-text").removeClass("forcehide"),h("#birthdayError").text("").removeClass("birth-erropTips"),h("#birthDate").datePickEMUI5("D")&&h("#birthDate").datePickEMUI5("M")&&h("#birthDate").datePickEMUI5("Y")&&l()},yearSpace:!1,yearSuffix:rss_new.reg_birthday_year,monthSuffix:rss_new.reg_birthday_month,daySuffix:rss_new.reg_birthday_day}),h("#completeBirthDialog .dayDiv .select-text,#completeBirthDialog .monthDiv .select-text").addClass("forcehide")}()}};function l(){var e=h("#birthDate").datePickEMUI5("Y")+"-"+h("#birthDate").datePickEMUI5("M")+"-"+h("#birthDate").datePickEMUI5("D");return-2==(i=function p(e){var o;if(null==e.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/))return-2;var n=e.split("-"),t=n[0],i=n[1],r=n[2];if(""==t||""==i||""==r)return-2;d=new Date;var a=d.getFullYear(),s=d.getMonth()+1,c=d.getDate();if(a==t)s<i&&(o=-1),s==i&&c<r&&(o=-1),s==i&&r<=c&&(o=0),i<s&&(o=0);else{var l=a-t;if(0<l)if(s==i){var u=c-r;o=u<=0?l-1:l}else{var f=s-i;o=f<0?l-1:l}else o=-1}return o}(e))?(h("#birthdayError").text(rss_new.uc_common_date_choose).addClass("birth-erropTips"),!1):-1==i?(h("#birthdayError").text(rss_new.uc_common_birthday_limit).addClass("birth-erropTips"),!1):!(i<0&&(h("#birthdayError").text(rss_new.uc_common_age_error).addClass("birth-erropTips"),1))}0<o.length&&(o.remove(),h(".global_black_overlay").remove()),h("<div>").Dialog(t).Dialog("show")}}(jQuery,window),function(e){e.config={guideQrLogin:"0",verifyIdentity:"1",verifyPhone:"2",verifyEmail:"3",verifyPwd:"5",verifyIdFail:"10010001",verifyPhoneFail:"10010002",verifyEmailFail:"10010003",verifyPwdFail:"11000400",verifyPwdFail_07:"11002057",verifyPwdFail_08:"11002058"};var o=function(e,o){if("object"==typeof e&&e.hasOwnProperty("errorDesc")){var n=JSON.parse(e.errorDesc).twoFactorList;config.callback=o,this.init(n)}};o.prototype={init:function(e){e=isMobile()||"true"!=localInfo.isOpenDimensionalCode?this.removeObjFormJson(e,config.guideQrLogin):this.removeRepeatQrFact(e),config.twoFactorList=e,1<config.twoFactorList.length?this.popSmsLoginValidate():this.popVerifyPwdTips(config.twoFactorList[0])},dealFactorTypeSwitch:function(e){var o,n=config.twoFactorList[0],t="";switch(n&&(t=n.factorType),e&&(t=(o=e).factorType),t+""){case config.guideQrLogin:this.guideQrLogin();break;case config.verifyIdentity:this.popVerifyIdentity(o);break;case config.verifyPhone:case config.verifyEmail:this.popVerifyPhoneOrEmail(o);break;default:this.popVerifyPwd(o)}},guideQrLogin:function(){$('.changeLoginType[data-type="smsValidateLogin"]').click(),$(".loginTitle-right").click(),$(".qrLogin-otherWayLink").html(this.insertOtherWayLink("")),this.regOtherWayClick(),config.twoFactorList=this.removeObjFormJson(config.twoFactorList,config.guideQrLogin)},popVerifyIdentity:function(e){var o=this,n=config.twoFactorList[0],t=!1;e&&(n=e,t=!0);var i='<div class="smsLoginVerify"><div class="line-EMUI5 verifyTisp verifyTop webBottomFix">'+rss_new.fillIn_your_personal_info+'</div><div class="line-EMUI5 verifyTisp"><span>'+rss_new.appeal_verify_identity_information_name+"</span><span>"+n.name+'</span></div><div class="dinput-UI5 verifyDiv" id="verifyIdDiv"><div class="input-div"><input type="text"  class="verifyInput" maxlength="6" autocomplete="off" id="verifyIdInput" placeholder="'+rss_new.smsLogin_twoFactor_idCardNo+'" /></div></div><div id="verifyIdMsg"></div>';i=o.insertOtherWayLink(i)+"</div>";var r={btnRight:{text:rss_new.uc_common_verify,fn:function(){if(!validator($("#verifyIdInput"),!0))return!1;var e={twoFactorType:n.factorType,twoFactorValue:$("#verifyIdInput").val().trim()};config.dialog=this,config.twoFactorObj=n,config.callback(e)}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){o.dealCancelBtn(t,this)}},html:i,beforeAction:function(){config.currentDialog=this;this.disabled(),o.regOtherWayClick(this);var e={type:["require","length"],min:"6",max:"6",require_msg:rss_new.appeal_verify_regInfo_id_empty_error,length_msg:rss_new.appeal_verify_regInfo_id_format_error,verifyDiv:$("#verifyIdDiv"),verifyInput:$("#verifyIdInput"),verifyMsg:$("#verifyIdMsg")};o.regInputValidate(e,this,function(){var e=$("#verifyIdInput");""!=e.val()&&e.val(e.val().replace(e.val().match(/[^0-9a-zA-Z]+/g),""))})}};o.openDialog(r,rss_new.appeal_verify_identity_information_tip)},popVerifyPhoneOrEmail:function(e){var n=this,t=config.twoFactorList[0],i=!1,o=!1,r="";"zh-cn"!=localInfo.lang&&"zh-hk"!=localInfo.lang&&"zh-tw"!=localInfo.lang||(r=" "),e&&(t=e,o=!0);var a="input-number",s=rss_new.smsLogin_twoFactor_comfirmPhone,c=rss_new.smsLogin_twoFactor_completePhone.format(r+t.anonymousValue),l=rss_new.forgetchoosetype_usertype_phone;config.verifyEmail==t.factorType&&(s=rss_new.smsLogin_twoFactor_comfirmEmail,c=rss_new.smsLogin_twoFactor_completeEmail.format(r+t.anonymousValue),l=rss_new.uc_common_email_addr,i=!(a=""));var d='<div class="smsLoginVerify"><div class="line-EMUI5 verifyTisp verifyTop">'+c+'</div><div class="dinput-UI5 verifyDiv" id="verifyPhoneOreEmailDiv"><div class="input-div"><input type="text"  class="'+a+' verifyInput" maxlength="50" autocomplete="off" id="verifyPhoneOreEmailInput" placeholder="'+l+'" /></div></div><div id="verifyPhoneOreEmailMsg"></div>';d=n.insertOtherWayLink(d)+"</div>";var u={btnRight:{text:rss_new.uc_common_verify,fn:function(){if(!validator($("#verifyPhoneOreEmailInput"),!0))return!1;var e={twoFactorType:t.factorType,twoFactorValue:$("#verifyPhoneOreEmailInput").val().trim()};config.dialog=this,config.twoFactorObj=t,config.callback(e)}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){n.dealCancelBtn(o,this)}},html:d,beforeAction:function(){config.currentDialog=this;this.disabled(),n.regOtherWayClick(this);var e={min:"4",max:"50",verifyDiv:$("#verifyPhoneOreEmailDiv"),verifyInput:$("#verifyPhoneOreEmailInput"),verifyMsg:$("#verifyPhoneOreEmailMsg"),anonymousVal:t.anonymousValue};if(i)var o={type:["require","length","email"],require_msg:rss_new.uc_common_input_email_addr,length_msg:rss_new.uc_common_validator_email};else o={type:["require","length"],require_msg:rss_new.uc_common_validator_phone_require,length_msg:rss_new.uc_common_validator_phone};e=$.extend({},e,o),n.regInputValidate(e,this)}};n.openDialog(u,s)},popVerifyPwd:function(e){var o=this,n=config.twoFactorList[0],t=!1;e&&(n=e,t=!0);var i='<div class="smsLoginVerify"><div class="line-EMUI5 verifyTisp verifyTop webBottomFix">'+rss_new.emui4_login_username+localInfo.smsUserAccount+'</div><div class="dinput-UI5 verifyDiv" id="verifyPwdDiv"><div class="ico-div"><img class="eyeoff" id="verifyPwdEye" src="'+localInfo.eyeoff+'"/></div><div class="input-div"><input type="password"  class="verifyInput" maxlength="32" autocomplete="off" id="verifyPwdInput" placeholder="'+rss_new.uc_common_input_ling_pwd+'" /></div></div><div id="verifyPwdMsg"></div>';i=o.insertOtherWayLink(i)+"</div>";var r={btnRight:{text:rss_new.uc_common_verify,fn:function(){if(!validator($("#verifyPwdInput"),!0))return!1;var e={twoFactorType:n.factorType,twoFactorValue:$("#verifyPwdInput").val().trim()};config.dialog=this,config.twoFactorObj=n,config.callback(e)}},btnLeft:{text:rss_new.box_js_cancel,fn:function(){o.dealCancelBtn(t,this)}},html:i,beforeAction:function(){config.currentDialog=this;this.disabled(),o.regOtherWayClick(this),o.regVerifyPwdEyeEvent($("#verifyPwdEye"),$("#verifyPwdInput"));var e={type:["require","length"],min:"4",max:"32",require_msg:rss_new.common_pwd_require,length_msg:rss_new.uc_error_10000001_2,verifyDiv:$("#verifyPwdDiv"),verifyInput:$("#verifyPwdInput"),verifyMsg:$("#verifyPwdMsg")};o.regInputValidate(e,this)}};o.openDialog(r,rss_new.smsLogin_verifyPwd)},popSelectOtherWay:function(){var n=this,t='<div class="smsLoginVerify"><div style="margin: 16px 0px;color: #999999;">'+rss_new.smsLogin_otherVerifyList_subTitle+'</div><div class="otherWayList">';$.each(config.twoFactorList,function(e,o){"true"!=localInfo.fromApp&&0==e?t+="<div class='dialog-line isLimit-"+n.isTwoFactorObjLimit(o)+" firstLineMarginFix' data-anonymousValue='"+o.anonymousValue+"' data-factorType='"+o.factorType+"' data-name='"+o.name+"'><span class='item-name item-left l'><a class='a-EMUI5'>":t+="<div class='dialog-line isLimit-"+n.isTwoFactorObjLimit(o)+"' data-anonymousValue='"+o.anonymousValue+"' data-factorType='"+o.factorType+"' data-name='"+o.name+"'><span class='item-name item-left l'><a class='a-EMUI5'>",t+=n.getOtherWayName(o.factorType,o.anonymousValue),t+="</a></span><div class='item-right'><span class='info-value item-forward' ></span></div></div>",(!isMobile()||e<config.twoFactorList.length-1)&&(t+='<div class="uc-line" style="padding:0"><div></div></div>')});var e={html:t+="</div></div></div>",beforeAction:function(){var o=config.currentDialog=this;addItemActive($(".dialog-line"),"dialog-line-active","dialog-line-disabled"),$(".dialog-line").click(function(){if(!$(this).hasClass("isLimit-true")){var e={anonymousValue:$(this).attr("data-anonymousValue"),factorType:$(this).attr("data-factorType"),name:$(this).attr("data-name")};n.dealFactorTypeSwitch(e),o.hide()}})}};n.openDialog(e,rss_new.smsLogin_otherVerifyList_Title)},modifyPageTitle:function(e){var o=rss_new.login_label_smsvalidLoad;e&&(o=e),"false"==localInfo.fromApp&&(o=rss_new.hwid_foragrfaq+"-"+o),document.title=o},removeObjFormJson:function(e,n){var t=[];return"object"==typeof e&&n?$.each(e,function(e,o){n!=o.factorType&&t.push(o)}):t=e,t},insertOtherWayLink:function(e){return 1<config.twoFactorList.length&&(e+='<div class="center margin16"><a class="selectOtherWay">'+rss_new.appeal_select_other_way+"</a></div>"),e},regOtherWayClick:function(e){var o=this;1<config.twoFactorList.length&&$(".selectOtherWay").off().on("click",function(){o.popSelectOtherWay(),e&&e.hide()})},isBtnAble:function(e,o,n){(n?""!=e&&this.checkAnonymousAccurate(n,e):""!=e)?o.enable():o.disabled()},openDialog:function(e,o){isMobile()?(e.dialogStyle="smsTab",this.modifyPageTitle(o)):e.dialogStyle="dialog",e.title=o,$("<div></div>").Dialog(e).Dialog("show")},getOtherWayName:function(e,o){var n={};return n[config.guideQrLogin]=rss_new.login_dialog_qrCodeLogin,n[config.verifyIdentity]=rss_new.check_real_name_info,n[config.verifyPhone]=rss_new.auth_dialog_send_to.format(o),n[config.verifyEmail]=rss_new.auth_dialog_send_to.format(o),n[config.verifyPwd]=rss_new.smsLogin_verifyPwd,n[e]},regInputValidate:function(e,o,n){var t="",i="",r="",a=e.verifyInput,s=e.verifyDiv,c=e.verifyMsg;delete e.verifyInput,delete e.verifyDiv,delete e.verifyMsg;var l=this;e.require_msg&&(t=e.require_msg,delete e.require_msg),e.length_msg&&(i=e.length_msg,delete e.length_msg),e.anonymousVal&&(r=e.anonymousVal,delete e.anonymousVal);var d={type:[""],trim:!0,validOnChange:!0,errorFunction:function(e,o){switch(o.type){case"require":l.showErrMsg(s,c,t);break;case"length":l.showErrMsg(s,c,i);break;case"email":l.showErrMsg(s,c,rss_new.register_js_emailfomaterror)}},successFunction:function(e,o){},reInputFunction:function(){n&&"function"==typeof n&&n(),o&&l.isBtnAble(a.val().trim(),o,r),l.hideErrMsg(s,c)}};d=$.extend({},d,e),a.validator("bind",d)},dealErrorCode:function(e){var o=this,n=e.errorCode;if(o.isPwdError(n))o.showWebError(o.getLeftTimesMsg(n)),config.verifyPwdFail!=n&&o.regFindPwdLink();else{var t=JSON.parse(e.errorDesc).leftTimes;isMobile()?o.dealMobileError(t,n):o.dealWebError(t,n)}},getLeftTimesMsg:function(e,o){var n="";switch(e){case config.verifyIdFail:n=rss_new.appeal_verify_identity_information_idcard_error_tips.format(o);break;case config.verifyPhoneFail:n=rss_new.smsLogin_phoneError_canTryTimes.format(o);break;case config.verifyEmailFail:n=rss_new.smsLogin_emailError_canTryTimes.format(o);break;case config.verifyPwdFail:n=rss_new.login_dialog_wrong;break;case config.verifyPwdFail_07:n=rss_new.login_errorCode_70002057;break;case config.verifyPwdFail_08:n=rss_new.login_errorCode_70002058}return n},markTwoFactorList:function(n){$.each(config.twoFactorList,function(e,o){n.factorType==o.factorType&&(config.verifyEmail!=o.factorType?o.isLimit=!0:n.anonymousValue==o.anonymousValue&&(o.isLimit=!0))})},isTwoFactorObjLimit:function(e){var o=!0;return e.isLimit||(o=!1),o},dealCancelBtn:function(e,o){e&&(this.popSelectOtherWay(config.twoFactorList),o.hide())},dealMobileError:function(e,o){var n=this;0==e?(n.markTwoFactorList(config.twoFactorObj),1<n.countActiveObj()?showSystemError(rss_new.smsLogin_inputError_reachUpLimit,rss_new.common_I_know,function(){n.popSelectOtherWay(config.twoFactorList),config.dialog&&config.dialog.hide()}):n.popVerifyPwd()):showSystemError(n.getLeftTimesMsg(o,e),rss_new.common_I_know)},dealWebError:function(e,o){var n=this;0==e?(n.markTwoFactorList(config.twoFactorObj),1<n.countActiveObj()?n.showWebError(rss_new.smsLogin_inputError_reachUpLimit):(config.dialog.hide(),n.popVerifyPwd())):n.showWebError(n.getLeftTimesMsg(o,e))},showWebError:function(e){switch(config.twoFactorObj.factorType+""){case config.verifyIdentity:this.showErrMsg($("#verifyIdDiv"),$("#verifyIdMsg"),e);break;case config.verifyPhone:case config.verifyEmail:this.showErrMsg($("#verifyPhoneOreEmailDiv"),$("#verifyPhoneOreEmailMsg"),e);break;case config.verifyPwd:this.showErrMsg($("#verifyPwdDiv"),$("#verifyPwdMsg"),e)}},showErrMsg:function(e,o,n){e.addClass("input-error-EMUI5"),o.html(n).addClass("error-tips-EMUI5")},hideErrMsg:function(e,o){e.removeClass("input-error-EMUI5"),o.html("").removeClass("error-tips-EMUI5")},countActiveObj:function(){var n=this,t=0;return $.each(config.twoFactorList,function(e,o){n.isTwoFactorObjLimit(o)||t++}),t},popSmsLoginValidate:function(){var e=this;$("<div></div>").Dialog({btnRight:{text:rss_new.box_js_confirm,fn:function(){this.hide(),e.dealFactorTypeSwitch()}},btnLeft:{text:rss_new.box_js_cancel,fn:null},title:rss_new.smsLogin_otherVerifyList_Title,html:'<div style="line-height:1.3;font-size:14px;">'+rss_new.smsLogin_hasRisk_hasFactors+"</div>",beforeAction:function(){},dialogStyle:"dialog"}).Dialog("show")},popVerifyPwdTips:function(){var e=this;$("<div></div>").Dialog({btnRight:{text:rss_new.box_js_confirm,fn:function(){this.hide(),e.popVerifyPwd()}},btnLeft:{text:rss_new.box_js_cancel,fn:null},title:rss_new.smsLogin_otherVerifyList_Title,html:'<div style="line-height:1.3;font-size:14px;">'+rss_new.smsLogin_hasRisk_noFactors+"</div>",beforeAction:function(){},dialogStyle:"dialog"}).Dialog("show")},checkAnonymousAccurate:function(e,o){var n=!0;if(e.length!=o.length)n=!1;else for(var t=0;t<e.length;t++)"*"!=e[t]&&e[t].toLowerCase()!=o[t].toLowerCase()&&(n=!1);return n},removeRepeatQrFact:function(e){var n,t=!1,i=[];return $.each(e,function(e,o){config.guideQrLogin!=o.factorType?i.push(o):(n=o,t=!0)}),t&&i.unshift(n),i},regVerifyPwdEyeEvent:function(e,o){if(isMobile())checkPwdEye(e,o);else{var n=o;e.on("click",function(){var e=o.attr("type");"password"==e?(n.attr("type","text"),$(this).attr("src",XSSGuard4URL(localInfo.eyeon))):"text"==e&&(n.attr("type","password"),$(this).attr("src",XSSGuard4URL(localInfo.eyeoff)))})}},regFindPwdLink:function(){$(".error_findPwd").off().on("click",function(){e.top.location.href=localInfo.findPwd})},isPwdError:function(e){var o=!1;return config.verifyPwdFail!=e&&config.verifyPwdFail_07!=e&&config.verifyPwdFail_08!=e||(o=!0),o}},e.SmsLoginValidate=o}(window),$(function(){try{if(localInfo=window.localInfo||{},"undefined"==typeof localInfo.illnessOptype||"0"==localInfo.randomCodeDisplayType||"false"==localInfo.isUseCaptchaService&&5==localInfo.illnessOptype)return;var o=[1],n=[5,6,7,8,9];1==localInfo.illnessOptype?randomCodeObj.isGtRandomCode()?illnessOptype=1:illnessOptype=5:2==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?illnessOptype=2:illnessOptype=6:3==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?(illnessOptype=3,"1"==localInfo.sceneId&&(illnessOptype=4)):(illnessOptype=7,"1"==localInfo.sceneId&&(illnessOptype=8)):4==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?illnessOptype=4:illnessOptype=8:5==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?illnessOptype=15:illnessOptype=9:6==localInfo.illnessOptype?"2"==localInfo.randomCodeDisplayType?(illnessOptype=10,"true"==localInfo.isFromQuery&&(illnessOptype=11)):(illnessOptype=12,"true"==localInfo.isFromQuery&&(illnessOptype=13)):7==localInfo.illnessOptype&&("2"==localInfo.randomCodeDisplayType?illnessOptype=11:illnessOptype=13);var e={checkClass:"geetest_holder",count:0,canReSend:!0,operType:illnessOptype,isGeet:!0,init:function(){var e=this;return e.count=0,~o.indexOf(e.operType)&&(e.checkClass="geetest_panel"),~n.indexOf(e.operType)&&(e.checkClass="randomCodeImg",e.isGeet=!1),e.canReSend=!0,setTimeout(function(){$("#randomCodeImg").bind("error",function(){e.sendErrorLog(2)})},0),this},checkExit:function(){var e=this;return e.count<=60?(e.count++,0<$("."+e.checkClass).length||setTimeout(function(){e.checkExit()},500)):(e.sendErrorLog(1),e.init()),this},sendErrorLog:function(o){var n=this,e={reqClientType:localInfo.reqClientType,loginChannel:localInfo.loginChannel,operType:n.operType,message:"",illnessType:o};return casAjaxObj.analysisHealth(e,function(e){"10000033"==e.errorCode&&n.sendAgain(o)}),this},sendAgain:function(e){var o=this;return o.canReSend?(setTimeout(function(){o.sendErrorLog(e)},1e3),o.canReSend=!1):o.canReSend=!0,this}};e.init(),1!=localInfo.illnessOptype&&e.checkExit(),window.checkRamdomObj=e}catch(t){}});
